-- Credits: 

-- mr1r15h - Jax KillTime The Real Weapon

assert(load(Base64Decode("LS1bW0FVVE8gVVBEQVRFXV0tLQ0KDQpsb2NhbCB2ZXJzaW9uID0gIjEuNCINCmxvY2FsIEFVVE9VUERBVEUgPSB0cnVlDQpsb2NhbCBVUERBVEVfSE9TVCA9ICJyYXcuZ2l0aHViLmNvbSINCmxvY2FsIFVQREFURV9QQVRIID0gIi9zemN6dXJla1BST1MvR2l0SHViL21hc3Rlci9zY3JpcHRzL0pheGltdXMgUHJpbWUgYnkgc3pjenVyZWtQUk9TLmx1YSIuLiI/cmFuZD0iLi5tYXRoLnJhbmRvbSgxLDEwMDAwKQ0KbG9jYWwgVVBEQVRFX0ZJTEVfUEFUSCA9IFNDUklQVF9QQVRILi4iSmF4aW11cyBQcmltZSBieSBzemN6dXJla1BST1MubHVhIg0KbG9jYWwgVVBEQVRFX1VSTCA9ICJodHRwczovLyIuLlVQREFURV9IT1NULi5VUERBVEVfUEFUSA0KDQpmdW5jdGlvbiBfQXV0b3VwZGF0ZXJNc2cobXNnKSBwcmludCgiPGZvbnQgY29sb3I9XCIjNjY5OWZmXCI+PGI+SmF4aW11cyBQcmltZSBieSBzemN6dXJla1BST1M6PC9iPjwvZm9udD4gPGZvbnQgY29sb3I9XCIjRkZGRkZGXCI+Ii4ubXNnLi4iLjwvZm9udD4iKSBlbmQNCmlmIEFVVE9VUERBVEUgdGhlbg0KICAgICAgICBsb2NhbCBTZXJ2ZXJEYXRhID0gR2V0V2ViUmVzdWx0KFVQREFURV9IT1NULCAiL3N6Y3p1cmVrUFJPUy9HaXRIdWIvbWFzdGVyL3NjcmlwdHMvVmVyc2lvbi9KYXhpbXVzIFByaW1lLnZlcnNpb24iKQ0KICAgICAgICBpZiBTZXJ2ZXJEYXRhIHRoZW4gDQogICAgICAgICAgICAgICAgU2VydmVyVmVyc2lvbiA9IHR5cGUodG9udW1iZXIoU2VydmVyRGF0YSkpID09ICJudW1iZXIiIGFuZCB0b251bWJlcihTZXJ2ZXJEYXRhKSBvciBuaWwNCiAgICAgICAgICAgICAgICBpZiBTZXJ2ZXJWZXJzaW9uIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRvbnVtYmVyKHZlcnNpb24pIDwgU2VydmVyVmVyc2lvbiB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9BdXRvdXBkYXRlck1zZygiTmV3IHZlcnNpb24gYXZhaWxhYmxlIi4uU2VydmVyVmVyc2lvbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0F1dG91cGRhdGVyTXNnKCJVcGRhdGluZywgcGxlYXNlIGRvbid0IHByZXNzIEY5IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBEb3dubG9hZEZpbGUoVVBEQVRFX1VSTCwgVVBEQVRFX0ZJTEVfUEFUSCwgZnVuY3Rpb24gKCkgX0F1dG91cGRhdGVyTXNnKCJTdWNjZXNzZnVsbHkgdXBkYXRlZC4gKCIuLnZlcnNpb24uLiIgPT4gIi4uU2VydmVyVmVyc2lvbi4uIiksIHByZXNzIEY5IHR3aWNlIHRvIGxvYWQgdGhlIHVwZGF0ZWQgdmVyc2lvbi4iKSBlbmQpIGVuZCwgMykNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0F1dG91cGRhdGVyTXNnKCJZb3UgaGF2ZSBnb3QgdGhlIGxhdGVzdCB2ZXJzaW9uICgiLi5TZXJ2ZXJWZXJzaW9uLi4iKSIpDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIF9BdXRvdXBkYXRlck1zZygiRXJyb3IgZG93bmxvYWRpbmcgdmVyc2lvbiBpbmZvIikNCiAgICAgICAgZW5kDQplbmQNCg0KLS1bW0FVVE8gVVBEQVRFIEVORF1dLS0NCg0KIC0tW1tKYXhpbXVzIFByaW1lIDEuMyBieSBzemN6dXJla1BST1NdXS0tDQogICAgICAgICANCiAgICAgICAgaWYgbXlIZXJvLmNoYXJOYW1lIH49ICJKYXgiIHRoZW4gcmV0dXJuIGVuZA0KICAgICAgICAtLUtpbGxhYmxlLS0NCiAgICAgICAgbG9jYWwgd2FpdHR4dCA9IHt9DQogICAgICAgIGxvY2FsIGNhbGN1bGF0aW9uZW5lbXkgPSAxDQogICAgICAgIGxvY2FsIGZsb2F0dGV4dCA9IHsiRnVsbCBDb21ibyIsIkNvbWJvIiwiUXVpY2sgQ29tYm8iLCJLaWxsIEhpbSEiLCJIYXJhc3MiLCIifQ0KICAgICAgICBsb2NhbCBraWxsYWJsZSA9IHt9DQogICAgICAgIC0tU3BlbGxzLS0NCiAgICAgICAgbG9jYWwgUVJlYWR5LCBXUmVhZHksIEVSZWFkeSwgUlJlYWR5ID0gZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UNCiAgICAgICAgLS1sb2NhbCBzd2luZ0RlbGF5ID0gMC4xNQ0KICAgICAgICBsb2NhbCBzd2luZyA9IDANCiAgICAgICAgbG9jYWwgc3dpbmdEZWxheSA9IDAuMTUNCiAgICAgICAgbG9jYWwgbGFzdEJhc2ljQXR0YWNrID0gMA0KICAgICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gT25Mb2FkKCkNCiAgICAgICAgICAgICAgICAtLVJhbmdlIFZhbHVlcy0tDQogICAgICAgICAgICAgICAgUVJhbmdlID0gNzAwDQogICAgICAgICAgICAgICAgRVJhbmdlID0gMTg1DQogICAgICAgICAgICAgICAgQVJhbmdlID0gMTI1DQogICAgICAgICAgICAgICAgLS1UaWNrIFdhaXQtLQ0KICAgICAgICAgICAgICAgIHRpY2tXYWl0ID0gMA0KICAgICAgICAgICAgICAgIC0tU3BlbGwgVmFsdWVzLS0NCiAgICAgICAgICAgICAgICBXUHJvYywgRVByb2MsIFFMYW5kZWQsIGl0ZW0gPSBmYWxzZSwgZmFsc2UsIGZhbHNlLCBmYWxzZQ0KICAgICAgICAgICAgICAgIEFBQ291bnQsIGxhc3RBQSwgcVRpbWVyLCB0aW1lciwgZVN0YXJ0LCBlVGltZXIsIGVXYWl0LCB0aW1lb3V0LCBzdG9wLCBtb3ZlLCBjbG9zZSwga3NEZWxheSwgY291bnREZWxheSwgY2FsY0RlbGF5ID0gMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMA0KICAgICAgICAgICAgICAgIC0tSXRlbSBXYWl0LS0NCiAgICAgICAgICAgICAgICBpdGVtU3RhcnQsIGl0ZW1FbmQgPSAwLCAwDQogICAgICAgICAgICAgICAgaXRlbVdhaXQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIC0tSGVhbHRoIENoZWNrLS0NCiAgICAgICAgICAgICAgICBoU3RhcnQsIGhFbmQsIGhDaGVjazEsIGhDaGVjazIgPSAwLCAwLCAwLCAwDQogICAgICAgICAgICAgICAgaFdhaXQgPSBmYWxzZQ0KICAgICAgICAgICAgICAgIHJBY3RpdmF0ZSA9IGZhbHNlDQogICAgICAgICAgICAgICAgLS1KYXhDb25maWctLQ0KICAgICAgICAgICAgICAgIEpheENvbmZpZyA9IHNjcmlwdENvbmZpZygiSmF4aW11cyBQcmltZSBieSBzemN6dXJla1BST1MiLCAiSmF4aW11cyBQcmltZSBieSBzemN6dXJla1BST1MiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnOmFkZFN1Yk1lbnUoIkNvbWJvIFNldHRpbmdzIiwgIlNNY29tYm8iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWNvbWJvOmFkZFBhcmFtKCJKYXhDb21ibyIsICJKYXggQ29tYm8iLCBTQ1JJUFRfUEFSQU1fT05LRVlET1dOLCBmYWxzZSwgMzIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNY29tYm86YWRkUGFyYW0oIkludGVsQ29tYm8iLCAiSW50ZWxsaWdlbnQgQ29tYm8gTW9kZSIsIFNDUklQVF9QQVJBTV9PTktFWVRPR0dMRSwgdHJ1ZSwgc3RyaW5nLmJ5dGUoIlgiKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21ibzphZGRQYXJhbSgiQnVyc3RDb21ibyIsICJCdXJzdCBDb21ibyBNb2RlIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21ibzphZGRQYXJhbSgiUUVDb21ibyIsICJRID4+IEUiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21ibzphZGRQYXJhbSgiRVFDb21ibyIsICJFID4+IFEiLCBTQ1JJUFRfUEFSQU1fT05LRVlUT0dHTEUsIHRydWUsIHN0cmluZy5ieXRlKCJUIikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21ibzphZGRQYXJhbSgicWVKdW1wIiwgIlErRSBKdW1wIiwgU0NSSVBUX1BBUkFNX09OS0VZRE9XTiwgZmFsc2UsIHN0cmluZy5ieXRlKCJBIikpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNY29tYm86cGVybWFTaG93KCJKYXhDb21ibyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNY29tYm86cGVybWFTaG93KCJJbnRlbENvbWJvIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21ibzpwZXJtYVNob3coIkJ1cnN0Q29tYm8iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWNvbWJvOnBlcm1hU2hvdygiUUVDb21ibyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNY29tYm86cGVybWFTaG93KCJFUUNvbWJvIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZzphZGRTdWJNZW51KCJVbHRpbWF0ZSBTZXR0aW5ncyIsICJTTXVsdGkiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTXVsdGk6YWRkUGFyYW0oIkF1dG9VbHQiLCAiVXNlIFVsdCBpbiBDb21ibyIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU011bHRpOmFkZFBhcmFtKCJtaW5DaGFtcHMiLCAiTWluLiBDaGFtcCBmb3IgQXV0byBVbHRpIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCAxLCAwLCA0LCAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTXVsdGk6YWRkUGFyYW0oInVsdFNlbiIsICJBdXRvIFVsdGkgU2Vuc2l0aXZpdHkiLCBTQ1JJUFRfUEFSQU1fU0xJQ0UsIDIsIDAsIDQsIDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNdWx0aTpwZXJtYVNob3coIkF1dG9VbHQiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnOmFkZFN1Yk1lbnUoIktpbGwgU3RlYWwgU2V0dGluZ3MiLCAiU01rcyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNa3M6YWRkUGFyYW0oIkF1dG9LUyIsICJBdXRvIEtTIiwgU0NSSVBUX1BBUkFNX09OS0VZVE9HR0xFLCB0cnVlLCBzdHJpbmcuYnl0ZSgiSyIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWtzOnBlcm1hU2hvdygiQXV0b0tTIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZzphZGRTdWJNZW51KCJPdGhlciBTZXR0aW5ncyIsICJTTW90aGVyIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01vdGhlcjphZGRQYXJhbSgiQXV0b1ciLCAiQXV0byBXIiwgU0NSSVBUX1BBUkFNX09OS0VZVE9HR0xFLCB0cnVlLCBzdHJpbmcuYnl0ZSgiWiIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTW90aGVyOmFkZFBhcmFtKCJBdXRvSWduaXRlIiwgIkF1dG8gSWduaXRlIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTW90aGVyOmFkZFBhcmFtKCJtb3ZlTW91c2UiLCAiTW92ZSBUbyBNb3VzZSIsIFNDUklQVF9QQVJBTV9PTktFWVRPR0dMRSwgdHJ1ZSwgc3RyaW5nLmJ5dGUoIkMiKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01vdGhlcjpwZXJtYVNob3coIkF1dG9XIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01vdGhlcjpwZXJtYVNob3coIkF1dG9JZ25pdGUiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTW90aGVyOnBlcm1hU2hvdygibW92ZU1vdXNlIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZzphZGRTdWJNZW51KCJEcmF3IFNldHRpbmdzIiwgIlNNZHJhdyIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSmF4Q29uZmlnLlNNZHJhdzphZGRQYXJhbSgiZHJhd2NpcmNsZXMiLCAiRHJhdyBDaXJjbGVzIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWRyYXc6YWRkUGFyYW0oImRyYXd0ZXh0IiwgIkRyYXcgVGV4dCIsIFNDUklQVF9QQVJBTV9PTk9GRiwgdHJ1ZSkNCiAgICAgICAgICAgICAgICAtLVRhcmdldCBTZWxlY3Rvci0tDQogICAgICAgICAgICAgICAgdHMgPSBUYXJnZXRTZWxlY3RvcihUQVJHRVRfTE9XX0hQLCBRUmFuZ2UsIERBTUFHRV9QSFlTSUNBTCwgdHJ1ZSkNCiAgICAgICAgICAgICAgICB0cy5uYW1lID0gIkpheCINCiAgICAgICAgICAgICAgICBKYXhDb25maWc6YWRkVFModHMpDQogICAgICAgICAgICAgICAgLS1JZ25pdGUtLQ0KICAgICAgICAgICAgICAgIGlmIG15SGVybzpHZXRTcGVsbERhdGEoU1VNTU9ORVJfMSkubmFtZTpmaW5kKCJTdW1tb25lckRvdCIpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlnbml0ZSA9IFNVTU1PTkVSXzENCiAgICAgICAgICAgICAgICBlbHNlaWYgbXlIZXJvOkdldFNwZWxsRGF0YShTVU1NT05FUl8yKS5uYW1lOmZpbmQoIlN1bW1vbmVyRG90IikgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaWduaXRlID0gU1VNTU9ORVJfMg0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGZvciBpPTEsIGhlcm9NYW5hZ2VyLmlDb3VudCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgd2FpdHR4dFtpXSA9IGkqMw0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIFByaW50Q2hhdCgiID4+IEpheGltdXMgUHJpbWUgYnkgc3pjenVyZWtQUk9TIDEuMyBsb2FkZWQhIikNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gT25Qcm9jZXNzU3BlbGwodW5pdCwgc3BlbGwpDQogICAgICAgICAgICAgICAgaWYgdW5pdC5pc01lIGFuZCBzcGVsbC5uYW1lIH49IG5pbCBhbmQgbm90IHN0cmluZy5maW5kKHNwZWxsLm5hbWUsICJKYXhCYXNpY0F0dGFjayIgb3IgIkpheEJhc2ljQXR0YWNrMiIgb3IgImpheHJlbGVudGxlc3NhdHRhY2siICBvciAiQ3JpdEF0dGFjayIpIHRoZW4gLS1jaGVjayBpZiBub3QgQUENCiAgICAgICAgICAgICAgICAgICAgICAgIFdQcm9jID0gZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIGVsc2VpZiBXUHJvYyA9PSBmYWxzZSBhbmQgdW5pdC5pc01lIGFuZCBzcGVsbC5uYW1lIH49IG5pbCBhbmQgc3RyaW5nLmZpbmQoc3BlbGwubmFtZSwgIkpheEJhc2ljQXR0YWNrIiBvciAiSmF4QmFzaWNBdHRhY2syIiBvciAiamF4cmVsZW50bGVzc2F0dGFjayIgIG9yICJDcml0QXR0YWNrIikgdGhlbiAtLWNoZWNrIGlmIEFBDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaT0xLCBoZXJvTWFuYWdlci5pQ291bnQgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZW5lbXkgPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVuZW15IH49IG5pbCBhbmQgZW5lbXkudmlzaWJsZSBhbmQgZW5lbXkudGVhbSB+PSBwbGF5ZXIudGVhbSBhbmQgbm90IGVuZW15LmRlYWQgYW5kIG1hdGguc3FydCgoZW5lbXkueCAtIHNwZWxsLmVuZFBvcy54KV4yICsgKGVuZW15LnogLSBzcGVsbC5lbmRQb3MueileMikgPCAxIHRoZW4gLS1jaGVja3MgaWYgaGl0IGVuZW15IGNoYW1waW9uDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRBVygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3dpbmcgPSAxICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RCYXNpY0F0dGFjayA9IG9zLmNsb2NrKCkgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGlmIHVuaXQuaXNNZSBhbmQgc3BlbGwubmFtZSB+PSBuaWwgYW5kIHN0cmluZy5maW5kKHNwZWxsLm5hbWUsICJKYXhDb3VudGVyU3RyaWtlIikgYW5kIG5vdCBKYXhDb25maWcuU01jb21iby5KYXhDb21ibyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBzZXRFKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gT25UaWNrKCkNCiAgICAgICAgICAgICAgICBpZiBKYXhDb25maWcuSW50ZWxDb21ibyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21iby5CdXJzdENvbWJvID0gZmFsc2UNCiAgICAgICAgICAgICAgICBlbHNlaWYgSmF4Q29uZmlnLlNNY29tYm8uSW50ZWxDb21ibyA9PSBmYWxzZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBKYXhDb25maWcuU01jb21iby5CdXJzdENvbWJvID0gdHJ1ZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5FUUNvbWJvIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWNvbWJvLlFFQ29tYm8gPSBmYWxzZQ0KICAgICAgICAgICAgICAgIGVsc2VpZiBKYXhDb25maWcuU01jb21iby5FUUNvbWJvID09IGZhbHNlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIEpheENvbmZpZy5TTWNvbWJvLlFFQ29tYm8gPSB0cnVlDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgaWYgbXlIZXJvLmRlYWQgdGhlbiByZXR1cm4gZW5kDQogICAgICAgICAgICAgICAgLS1UYXJnZXQgU2VsZWN0b3IgVXBkYXRlLS0NCiAgICAgICAgICAgICAgICBpZiB0aWNrV2FpdCA9PSAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIHRzOnVwZGF0ZSgpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgLS1BdXRvIEF0dGFja3MtLQ0KICAgICAgICAgICAgICAgIEFBQ291bnQgPSAxLygoKDAuNjI1LygxLTAuMDIpKSkqKDEqbXlIZXJvLmF0dGFja1NwZWVkKSkNCiAgICAgICAgICAgICAgICBpZiBvcy5jbG9jaygpID4gbGFzdEJhc2ljQXR0YWNrICsgKChBQUNvdW50LzYpICsgc3dpbmdEZWxheSkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgc3dpbmcgPSAwDQogICAgICAgICAgICAgICAgZW5kICANCiAgICAgICAgICAgICAgICAtLVNwZWxscyBSZWFkeS0tDQogICAgICAgICAgICAgICAgUVJlYWR5ID0gKG15SGVybzpDYW5Vc2VTcGVsbChfUSkgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgV1JlYWR5ID0gKG15SGVybzpDYW5Vc2VTcGVsbChfVykgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgRVJlYWR5ID0gKG15SGVybzpDYW5Vc2VTcGVsbChfRSkgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgUlJlYWR5ID0gKG15SGVybzpDYW5Vc2VTcGVsbChfUikgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgLS1JdGVtcy0tDQogICAgICAgICAgICAgICAgQlJLU2xvdCwgSFhHU2xvdCwgQldDU2xvdCA9IEdldEludmVudG9yeVNsb3RJdGVtKDMxNTMpLCBHZXRJbnZlbnRvcnlTbG90SXRlbSgzMTQ2KSwgR2V0SW52ZW50b3J5U2xvdEl0ZW0oMzE0NCkNCiAgICAgICAgICAgICAgICBTaGVlblNsb3QsIFRyaW5pdHlTbG90LCBMaWNoQmFuZVNsb3QgPSBHZXRJbnZlbnRvcnlIYXZlSXRlbSgzMDU3KSwgR2V0SW52ZW50b3J5SGF2ZUl0ZW0oMzA3OCksIEdldEludmVudG9yeUhhdmVJdGVtKDMxMDApDQogICAgICAgICAgICAgICAgVE1hdFNsb3QsIFJIeWRyYVNsb3QsIFJBTkRTbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oMzA3NyksIEdldEludmVudG9yeVNsb3RJdGVtKDMwNzQpLCBHZXRJbnZlbnRvcnlTbG90SXRlbSgzMTQzKQ0KICAgICAgICAgICAgICAgIEhYR1JlYWR5ID0gKEhYR1Nsb3Qgfj0gbmlsIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoSFhHU2xvdCkgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgQldDUmVhZHkgPSAoQldDU2xvdCB+PSBuaWwgYW5kIG15SGVybzpDYW5Vc2VTcGVsbChCV0NTbG90KSA9PSBSRUFEWSkNCiAgICAgICAgICAgICAgICBCUktSZWFkeSA9IChCUktTbG90IH49IG5pbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKEJSS1Nsb3QpID09IFJFQURZKQ0KICAgICAgICAgICAgICAgIFJBTkRSZWFkeSA9KFJBTkRTbG90IH49IG5pbCBhbmQgbXlIZXJvOkNhblVzZVNwZWxsKFJBTkRTbG90KSA9PSBSRUFEWSkNCiAgICAgICAgICAgICAgICBUTWF0UmVhZHkgPSAoVE1hdFNsb3Qgfj0gbmlsIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoVE1hdFNsb3QpID09IFJFQURZKQ0KICAgICAgICAgICAgICAgIFJIeWRyYVJlYWR5ID0gKFJIeWRyYVNsb3Qgfj0gbmlsIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoUkh5ZHJhU2xvdCkgPT0gUkVBRFkpDQogICAgICAgICAgICAgICAgLS1JZ25pdGUtLQ0KICAgICAgICAgICAgICAgIElSZWFkeSA9IChpZ25pdGUgfj0gbmlsIGFuZCBteUhlcm86Q2FuVXNlU3BlbGwoaWduaXRlKSA9PSBSRUFEWSkNCiAgICAgICAgICAgICAgICAtLUZ1bmN0aW9ucy0tDQogICAgICAgICAgICAgICAgaWYgdGlja1dhaXQgPT0gMSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBzZXRIZWFsdGgoKQ0KICAgICAgICAgICAgICAgIGVsc2VpZiB0aWNrV2FpdCA9PSAyIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGNEYW1hZ2UoKQ0KICAgICAgICAgICAgICAgIGVsc2VpZiB0aWNrV2FpdCA9PSAzIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGtpbGxTdGVhbCgpDQogICAgICAgICAgICAgICAgZWxzZWlmIHRpY2tXYWl0ID09IDQgdGhlbg0KICAgICAgICAgICAgICAgIGNoZWNrSGVhbHRoKCkNCiAgICAgICAgICAgICAgICBlbHNlaWYgdGlja1dhaXQgPT0gNSB0aGVuDQogICAgICAgICAgICAgICAgamF4Q29tYm8oKQ0KICAgICAgICAgICAgICAgIGVsc2VpZiB0aWNrV2FpdCA9PSA2IHRoZW4NCiAgICAgICAgICAgICAgICBhdXRvRW1wb3dlcigpDQogICAgICAgICAgICAgICAgZWxzZWlmIHRpY2tXYWl0ID09IDcgdGhlbg0KICAgICAgICAgICAgICAgIHJlc2V0SGVhbHRoKCkNCiAgICAgICAgICAgICAgICBlbHNlaWYgdGlja1dhaXQgPT0gOCB0aGVuDQogICAgICAgICAgICAgICAganVtcCgpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiB0aWNrV2FpdCA8IDggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgdGlja1dhaXQgPSB0aWNrV2FpdCArIDENCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICB0aWNrV2FpdCA9IDANCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24ganVtcCgpDQogICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNY29tYm8ucWVKdW1wIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTW90aGVyLm1vdmVNb3VzZSBhbmQgdHMudGFyZ2V0ID09IG5pbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15SGVybzpNb3ZlVG8obW91c2VQb3MueCwgbW91c2VQb3MueikNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdHMudGFyZ2V0IH49IG5pbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFFSZWFkeSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IFFSYW5nZSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA+IEVSYW5nZSArIDUwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX1EsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX0UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBzd2luZyA9PSAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUhlcm86QXR0YWNrKHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gc2V0QVcoKQ0KICAgICAgICAgICAgICAgIGxhc3RBQSA9IG9zLmNsb2NrKCkNCiAgICAgICAgICAgICAgICB0aW1lciA9IGxhc3RBQSArICgoQUFDb3VudC82KSArIHN3aW5nRGVsYXkpDQogICAgICAgICAgICAgICAgdGltZW91dCA9IGxhc3RBQSArIEFBQ291bnQNCiAgICAgICAgICAgICAgICBXUHJvYywgSXRlbVByb2MgPSB0cnVlLCB0cnVlDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIHJlc2V0QVcoKQ0KICAgICAgICAgICAgICAgIGxhc3RBQSwgdGltZXIsIHRpbW91dCA9IDAsIDAsIDANCiAgICAgICAgICAgICAgICBXUHJvYywgSXRlbVByb2MgPSBmYWxzZSwgZmFsc2UNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gc2V0RSgpDQogICAgICAgICAgICAgICAgZVN0YXJ0ID0gb3MuY2xvY2soKQ0KICAgICAgICAgICAgICAgIGVUaW1lciA9IGVTdGFydCArIDINCiAgICAgICAgICAgICAgICBlV2FpdCA9IGVTdGFydCArIDENCiAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX0UpDQogICAgICAgICAgICAgICAgRVByb2MgPSB0cnVlDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIHJlc2V0UUUoKQ0KICAgICAgICAgICAgICAgIHFUaW1lciwgZVN0YXJ0LCBlVGltZXIsIEVQcm9jID0gMCwgMCwgMCwgMA0KICAgICAgICAgICAgICAgIFFMYW5kZWQsIEVQcm9jID0gZmFsc2UsIGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgIGl0ZW1TdGFydCA9IG9zLmNsb2NrKCkNCiAgICAgICAgICAgICAgICBpdGVtRW5kID0gaXRlbVN0YXJ0ICsgMQ0KICAgICAgICAgICAgICAgIGl0ZW1XYWl0ID0gdHJ1ZQ0KICAgICAgICBlbmQNCiAgICAgICAgIA0KICAgICAgICBmdW5jdGlvbiByZXNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgIGl0ZW1TdGFydCwgaXRlbUVuZCA9IDAsIDANCiAgICAgICAgICAgICAgICBpdGVtV2FpdCA9IGZhbHNlDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIHNldEhlYWx0aCgpDQogICAgICAgICAgICAgICAgaWYgaFdhaXQgPT0gZmFsc2UgYW5kIFJSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBoU3RhcnQgPSBvcy5jbG9jaygpDQogICAgICAgICAgICAgICAgICAgICAgICBoRW5kID0gaFN0YXJ0ICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgaFdhaXQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICBoQ2hlY2sxID0gbXlIZXJvLmhlYWx0aA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgIA0KICAgICAgICBmdW5jdGlvbiBjaGVja0hlYWx0aCgpDQogICAgICAgICAgICAgICAgaWYgaFdhaXQgPT0gdHJ1ZSBhbmQgb3MuY2xvY2soKSA+IGhFbmQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaENoZWNrMiA9IG15SGVyby5oZWFsdGgNCiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHNlbiA9IChKYXhDb25maWcuU011bHRpLnVsdFNlbiArIDEpKjAuMDUNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoQ2hlY2sxIC0gKGhDaGVjazEqc2VuKSkgPj0gaENoZWNrMiB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJBY3RpdmF0ZSA9IHRydWUNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgIA0KICAgICAgICBmdW5jdGlvbiByZXNldEhlYWx0aCgpDQogICAgICAgICAgICAgICAgaWYgaFdhaXQgPT0gdHJ1ZSBhbmQgb3MuY2xvY2soKSA+IGhFbmQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaFN0YXJ0LCBoRW5kLCBoQ2hlY2sxLCBoQ2hlY2syID0gMCwgMCwgMCwgMA0KICAgICAgICAgICAgICAgICAgICAgICAgaFdhaXQsIHJBY3RpdmF0ZSA9IGZhbHNlLCBmYWxzZQ0KICAgICAgICAgICAgICAgIGVsc2VpZiBSUmVhZHkgPT0gZmFsc2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaFN0YXJ0LCBoRW5kLCBoQ2hlY2sxLCBoQ2hlY2syID0gMCwgMCwgMCwgMA0KICAgICAgICAgICAgICAgICAgICAgICAgaFdhaXQsIHJBY3RpdmF0ZSA9IGZhbHNlLCBmYWxzZQ0KICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICBlbmQNCiAgICAgICAgIA0KICAgICAgICBmdW5jdGlvbiBhdXRvRW1wb3dlcigpDQogICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNb3RoZXIuQXV0b1cgYW5kIFdQcm9jID09IHRydWUgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgb3MuY2xvY2soKSA8IHRpbWVvdXQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvcy5jbG9jaygpID4gdGltZXIgdGhlbiAtLWNoZWNrcyB0byBlbnN1cmUgZWZmaWNpZW5jeSBvZiBBQSByZXNldA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFdSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX1cpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldEFXKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgUkh5ZHJhUmVhZHkgYW5kIGl0ZW0gPT0gdHJ1ZSBhbmQgV1JlYWR5ID09IGZhbHNlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChSSHlkcmFTbG90LCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRBVygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIFRNYXRSZWFkeSBhbmQgaXRlbSA9PSB0cnVlIGFuZCBXUmVhZHkgPT0gZmFsc2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKFRNYXRTbG90LCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRBVygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIFdQcm9jID09IHRydWUgYW5kIHRpbWVvdXQgPD0gb3MuY2xvY2soKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0QVcoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIGtpbGxTdGVhbCgpDQogICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNa3MuQXV0b0tTIGFuZCBvcy5jbG9jaygpID4ga3NEZWxheSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaSA9IDEsIGhlcm9NYW5hZ2VyLmlDb3VudCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBlbmVteSA9IGhlcm9NYW5hZ2VyOmdldEhlcm8oaSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcUtTID0gZ2V0RG1nKCJRIiwgZW5lbXksIG15SGVybykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgd0tTID0gZ2V0RG1nKCJXIiwgZW5lbXksIG15SGVybykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYUtTID0gZ2V0RG1nKCJBRCIsIGVuZW15LCBteUhlcm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGlLUyA9IDUwICsgKDIwKm15SGVyby5sZXZlbCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaHhnS1MgPSAoSFhHU2xvdCBhbmQgZ2V0RG1nKCJIWEciLCBlbmVteSwgbXlIZXJvKSBvciAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBid2NLUyA9IChCV0NTbG90IGFuZCBnZXREbWcoIkJXQyIsIGVuZW15LCBteUhlcm8pIG9yIDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGJya0tTID0gKEJSS1Nsb3QgYW5kIGdldERtZygiUlVJTkVES0lORyIsIGVuZW15LCBteUhlcm8pIG9yIDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHRtYXRLUyA9IGFLUyowLjYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmh5ZHJhS1MgPSBhS1MqMC42DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFZhbGlkVGFyZ2V0KGVuZW15LCBBUmFuZ2UpIGFuZCBhS1MgPiBlbmVteS5oZWFsdGggYW5kIHN3aW5nID09IDAgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15SGVybzpBdHRhY2soZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBXUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFZhbGlkVGFyZ2V0KGVuZW15LCBBUmFuZ2UpIGFuZCAod0tTICsgYUtTKSA+IGVuZW15LmhlYWx0aCBhbmQgc3dpbmcgPT0gMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX1cpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteUhlcm86QXR0YWNrKGVuZW15KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgUVJlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBWYWxpZFRhcmdldChlbmVteSwgUVJhbmdlKSBhbmQgcUtTID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChfUSwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRUmVhZHkgYW5kIFdSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgVmFsaWRUYXJnZXQoZW5lbXksIFFSYW5nZSkgYW5kIChxS1MgKyB3S1MpID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChfVykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChfUSwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBXUmVhZHkgYW5kIElSZWFkeSBhbmQgSmF4Q29uZmlnLlNNb3RoZXIuQXV0b0lnbml0ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgVmFsaWRUYXJnZXQoZW5lbXksIEFSYW5nZSkgYW5kICh3S1MgKyBhS1MgKyBpS1MpID4gZW5lbXkuaGVhbHRoIGFuZCBzd2luZyA9PSAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChfVykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15SGVybzpBdHRhY2soZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRUmVhZHkgYW5kIElSZWFkeSBhbmQgSmF4Q29uZmlnLlNNb3RoZXIuQXV0b0lnbml0ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgVmFsaWRUYXJnZXQoZW5lbXksIFFSYW5nZSkgYW5kIChxS1MgKyBpS1MpID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChfUSwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRUmVhZHkgYW5kIFdSZWFkeSBhbmQgSVJlYWR5IGFuZCBKYXhDb25maWcuU01vdGhlci5BdXRvSWduaXRlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBWYWxpZFRhcmdldChlbmVteSwgUVJhbmdlKSBhbmQgKHFLUyArIHdLUyArIGlLUykgPiBlbmVteS5oZWFsdGggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9XKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9RLCBlbmVteSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFFSZWFkeSA9PSBmYWxzZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSVJlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHRvdGFsID0gaUtTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBHZXREaXN0YW5jZShlbmVteSkgPiAoRVJhbmdlKjEuNikgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBIWEdSZWFkeSBhbmQgR2V0RGlzdGFuY2UoZW5lbXkpIDwgNzAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgaHhnS1MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0b3RhbCA+IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoSFhHU2xvdCwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIEJXQ1JlYWR5IGFuZCBHZXREaXN0YW5jZShlbmVteSkgPCA1MDAgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwgKyBid2NLUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRvdGFsID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChCV0NTbG90LCBlbmVteSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgQlJLUmVhZHkgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8IDUwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIGJya0tTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG90YWwgPiBlbmVteS5oZWFsdGggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEJSS1Nsb3QsIGVuZW15KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIEdldERpc3RhbmNlKGVuZW15KSA8IChFUmFuZ2UqMS42KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFRNYXRSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIHRtYXRLUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRvdGFsID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChUTWF0U2xvdCwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFJIeWRyYVJlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgcmh5ZHJhS1MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0b3RhbCA+IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoUkh5ZHJhU2xvdCwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIElSZWFkeSA9PSBmYWxzZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB0b3RhbCA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKGVuZW15KSA+IChFUmFuZ2UqMS42KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEhYR1JlYWR5IGFuZCBHZXREaXN0YW5jZShlbmVteSkgPCA3MDAgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwgKyBoeGdLUw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHRvdGFsID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChIWEdTbG90LCBlbmVteSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgQldDUmVhZHkgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8IDUwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIGJ3Y0tTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG90YWwgPiBlbmVteS5oZWFsdGggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEJXQ1Nsb3QsIGVuZW15KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBCUktSZWFkeSBhbmQgR2V0RGlzdGFuY2UoZW5lbXkpIDwgNTAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgYnJrS1MNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB0b3RhbCA+IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoQlJLU2xvdCwgZW5lbXkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgR2V0RGlzdGFuY2UoZW5lbXkpIDwgKEVSYW5nZSoxLjYpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgVE1hdFJlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgdG1hdEtTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG90YWwgPiBlbmVteS5oZWFsdGggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKFRNYXRTbG90KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBSSHlkcmFSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbCArIHJoeWRyYUtTDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG90YWwgPiBlbmVteS5oZWFsdGggdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKFJIeWRyYVNsb3QpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSVJlYWR5IGFuZCBKYXhDb25maWcuU01vdGhlci5BdXRvSWduaXRlIGFuZCBRUmVhZHkgPT0gZmFsc2UgYW5kIGl0ZW1XYWl0ID09IGZhbHNlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBHZXREaXN0YW5jZShlbmVteSkgPiAoRVJhbmdlKjEuNikgYW5kIEdldERpc3RhbmNlKGVuZW15KSA8IDYwMCBhbmQgcVRpbWVyIDwgb3MuY2xvY2soKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCUktSZWFkeSA9PSBmYWxzZSBhbmQgSFhHUmVhZHkgPT0gZmFsc2UgYW5kIEJXQ1JlYWR5ID09IGZhbHNlIGFuZCBSQU5EUmVhZHkgPT0gZmFsc2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBWYWxpZFRhcmdldChlbmVteSwgNjAwKSBhbmQgaUtTID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoaWduaXRlLCBlbmVteSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBteUhlcm8uaGVhbHRoIDwgMjUwIGFuZCBWYWxpZFRhcmdldChlbmVteSwgNjAwKSBhbmQgaUtTID4gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChpZ25pdGUsIGVuZW15KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAga3NEZWxheSA9IG9zLmNsb2NrKCkgKyAwLjENCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gamF4Q29tYm8oKQ0KICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTWNvbWJvLkpheENvbWJvIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTW90aGVyLm1vdmVNb3VzZSBhbmQgdHMudGFyZ2V0ID09IG5pbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15SGVybzpNb3ZlVG8obW91c2VQb3MueCwgbW91c2VQb3MueikNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdHMudGFyZ2V0IH49IG5pbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGVUaW1lciB+PSAwIGFuZCBlVGltZXIgPCBvcy5jbG9jaygpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFFFKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTXVsdGkuQXV0b1VsdCBhbmQgUlJlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiByQWN0aXZhdGUgPT0gdHJ1ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX1IpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgY2hhbXBDb3VudCA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9zLmNsb2NrKCkgPiBjb3VudERlbGF5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGkgPSAxLCBoZXJvTWFuYWdlci5pQ291bnQgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBlbmVteSA9IGhlcm9NYW5hZ2VyOmdldEhlcm8oaSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBWYWxpZFRhcmdldChlbmVteSwgUVJhbmdlKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFtcENvdW50ID0gY2hhbXBDb3VudCArIDENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50RGVsYXkgPSBvcy5jbG9jaygpICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBjaGFtcENvdW50ID49IChKYXhDb25maWcuU011bHRpLm1pbkNoYW1wcyArIDEpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9SKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBKYXhDb25maWcuU01jb21iby5FUUNvbWJvIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBFUHJvYyA9PSB0cnVlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCBFUmFuZ2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBFUmFuZ2UgPT0gR2V0RGlzdGFuY2UodHMudGFyZ2V0KSBhbmQgZVRpbWVyID4gb3MuY2xvY2soKSBhbmQgZVdhaXQgPCBvcy5jbG9jaygpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX0UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRRRSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRTGFuZGVkID09IGZhbHNlIGFuZCBRUmVhZHkgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCBRUmFuZ2UgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPiBFUmFuZ2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBlVGltZXIgPiAob3MuY2xvY2soKSArIDAuNCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgZVdhaXQgPiBvcy5jbG9jaygpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGVXYWl0IDwgb3MuY2xvY2soKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9RLCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcVRpbWVyID0gb3MuY2xvY2soKSArIDAuMw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFFMYW5kZWQgPSB0cnVlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRTGFuZGVkID09IHRydWUgYW5kIHFUaW1lciA8IG9zLmNsb2NrKCkgYW5kIG9zLmNsb2NrKCkgPCBlVGltZXIgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX0UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0UUUoKSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgRVByb2MgPT0gZmFsc2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgRVJlYWR5IGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgRVJhbmdlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0RSgpICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIEVSZWFkeSBhbmQgUVJlYWR5IGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgKFFSYW5nZSAtICh0cy50YXJnZXQubXMgLSBteUhlcm8ubXMpKSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA+IEVSYW5nZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIFFSZWFkeSBhbmQgRVJlYWR5ID09IGZhbHNlIGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgUVJhbmdlIGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpID4gKEVSYW5nZSAqIDIpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9RLCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHFUaW1lciA9IG9zLmNsb2NrKCkgKyAwLjMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgSmF4Q29uZmlnLlNNY29tYm8uUUVDb21ibyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgUVJlYWR5IGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgUVJhbmdlIGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpID4gKEVSYW5nZSArIDEwKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX1EsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBFUmVhZHkgYW5kIEVQcm9jID09IGZhbHNlIGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgRVJhbmdlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEVQcm9jID09IHRydWUgYW5kIGVXYWl0IDwgb3MuY2xvY2soKSBhbmQgZVRpbWVyID4gb3MuY2xvY2soKSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IEVSYW5nZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoX0UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldFFFKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IFFSYW5nZSBhbmQgc3dpbmcgPT0gMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlIZXJvOkF0dGFjayh0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICBpZiBKYXhDb25maWcuU01jb21iby5CdXJzdENvbWJvIGFuZCB0cy50YXJnZXQgfj0gbmlsIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNb3RoZXIuQXV0b0lnbml0ZSBhbmQgSVJlYWR5IGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgNjAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoaWduaXRlLCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCUktSZWFkeSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IDUwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEJSS1Nsb3QsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCBBUmFuZ2UgYW5kIEl0ZW1Qcm9jID09IHRydWUgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFJIeWRyYVJlYWR5IGFuZCBJdGVtUHJvYyA9PSB0cnVlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9zLmNsb2NrKCkgPCB0aW1lb3V0IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgb3MuY2xvY2soKSA+IHRpbWVyIHRoZW4gLS1jaGVja3MgdG8gZW5zdXJlIGVmZmljaWVuY3kgb2YgQUEgcmVzZXQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoUkh5ZHJhU2xvdCwgdHMudGFyZ2V0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0QVcoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFRNYXRSZWFkeSBhbmQgSXRlbVByb2MgPT0gdHJ1ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvcy5jbG9jaygpIDwgdGltZW91dCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIG9zLmNsb2NrKCkgPiB0aW1lciB0aGVuIC0tY2hlY2tzIHRvIGVuc3VyZSBlZmZpY2llbmN5IG9mIEFBIHJlc2V0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKFRNYXRTbG90LCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRBVygpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2VpZiBJdGVtUHJvYyA9PSB0cnVlIGFuZCB0aW1lb3V0IDw9IG9zLmNsb2NrKCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0QVcoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSFhHUmVhZHkgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCBRUmFuZ2UgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChIWEdTbG90LCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBCV0NSZWFkeSBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IDUwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEJXQ1Nsb3QsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFJBTkRSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA8IDUwMCBhbmQgR2V0RGlzdGFuY2UodHMudGFyZ2V0KSA+IChFUmFuZ2UqMS42KSBhbmQgUVJlYWR5ID09IGZhbHNlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChSQU5EU2xvdCwgdHMudGFyZ2V0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTWNvbWJvLkludGVsQ29tYm8gYW5kIHRzLnRhcmdldCB+PSBuaWwgYW5kIGl0ZW1XYWl0ID09IGZhbHNlIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSXRlbVByb2MgPT0gdHJ1ZSBhbmQgdGltZW91dCA8PSBvcy5jbG9jaygpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldEFXKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEJSS1JlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBteUhlcm8ubWF4SGVhbHRoID4gKG15SGVyby5oZWFsdGgqMikgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCA1MDAgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEJSS1Nsb3QsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCA1MDAgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPiAoRVJhbmdlKjEuNikgYW5kIFFSZWFkeSA9PSBmYWxzZSBhbmQgQldDUmVhZHkgPT0gZmFsc2UgYW5kIEhYR1JlYWR5ID09IGZhbHNlIGFuZCBxVGltZXIgPCBvcy5jbG9jaygpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENhc3RTcGVsbChCUktTbG90LCB0cy50YXJnZXQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJdGVtKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEhYR1JlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBHZXREaXN0YW5jZSh0cy50YXJnZXQpIDwgUVJhbmdlIGFuZCBHZXREaXN0YW5jZSh0cy50YXJnZXQpID4gKEVSYW5nZSoxLjYpIGFuZCBRUmVhZHkgPT0gZmFsc2UgYW5kIHFUaW1lciA8IG9zLmNsb2NrKCkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEhYR1Nsb3QsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQldDUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCA1MDAgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPiAoRVJhbmdlKjEuNikgYW5kIFFSZWFkeSA9PSBmYWxzZSBhbmQgcVRpbWVyIDwgb3MuY2xvY2soKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoQldDU2xvdCwgdHMudGFyZ2V0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0SXRlbSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBSQU5EUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPCA1MDAgYW5kIEdldERpc3RhbmNlKHRzLnRhcmdldCkgPiAoRVJhbmdlKjEuNikgYW5kIFFSZWFkeSA9PSBmYWxzZSBhbmQgcVRpbWVyIDwgb3MuY2xvY2soKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoUkFORFNsb3QsIHRzLnRhcmdldCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgaXRlbVdhaXQgPT0gdHJ1ZSBhbmQgb3MuY2xvY2soKSA+IGl0ZW1FbmQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNldEl0ZW0oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgIGVuZA0KICAgICAgICAgDQogICAgICAgIGZ1bmN0aW9uIGNhbGNEYW1hZ2UoKQ0KICAgICAgICAgICAgICAgIGlmIG5vdCBteUhlcm8uZGVhZCBhbmQgb3MuY2xvY2soKSA+IGNhbGNEZWxheSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICBmb3IgaT0xLCBoZXJvTWFuYWdlci5pQ291bnQgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZW5lbXkgPSBoZXJvTWFuYWdlcjpHZXRIZXJvKGkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIFZhbGlkVGFyZ2V0KGVuZW15KSBhbmQgR2V0RGlzdGFuY2UoZW5lbXkpIDwgMTAwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcURhbWFnZSA9IGdldERtZygiUSIsIGVuZW15LCBteUhlcm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgd0RhbWFnZSA9IGdldERtZygiVyIsIGVuZW15LCBteUhlcm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZURhbWFnZSA9IGdldERtZygiRSIsIGVuZW15LCBteUhlcm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgckRhbWFnZSA9IGdldERtZygiUiIsIGVuZW15LCBteUhlcm8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYURhbWFnZSA9IGdldERtZygiQUQiLCBlbmVteSwgbXlIZXJvKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGh4Z0RhbWFnZSA9IChIWEdTbG90IGFuZCBnZXREbWcoIkhYRyIsIGVuZW15LCBteUhlcm8pIG9yIDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYndjRGFtYWdlID0gKEJXQ1Nsb3QgYW5kIGdldERtZygiQldDIiwgZW5lbXksIG15SGVybykgb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBicmtEYW1hZ2UgPSAoQlJLU2xvdCBhbmQgZ2V0RG1nKCJSVUlORURLSU5HIiwgZW5lbXksIG15SGVybykgb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCB0bWF0RGFtYWdlID0gYURhbWFnZSowLjYNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCByaHlkcmFEYW1hZ2UgPSBhRGFtYWdlKjAuNg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIFNoZWVuRGFtYWdlID0gKFNoZWVuU2xvdCBhbmQgZ2V0RG1nKCJTSEVFTiIsIGVuZW15LCBteUhlcm8pIG9yIDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgVHJpbml0eURhbWFnZSA9IChUcmluaXR5U2xvdCBhbmQgZ2V0RG1nKCJUUklOSVRZIiwgZW5lbXksIG15SGVybykgb3IgMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBMaWNoQmFuZURhbWFnZSA9IChMaWNoQmFuZVNsb3QgYW5kIGdldERtZygiTElDSEJBTkUiLCBlbmVteSwgbXlIZXJvKSBvciAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGlEYW1hZ2UgPSA1MCArICgyMCpteUhlcm8ubGV2ZWwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgbXlEYW1hZ2UgPSBTaGVlbkRhbWFnZSArIFRyaW5pdHlEYW1hZ2UgKyBMaWNoQmFuZURhbWFnZSArIGFEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBRUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIHFEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBXUmVhZHkgb3IgV1Byb2MgPT0gdHJ1ZSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteURhbWFnZSA9IG15RGFtYWdlICsgd0RhbWFnZSArIChhRGFtYWdlKjIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgRVJlYWR5IG9yIEVQcm9jID09IHRydWUgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIGVEYW1hZ2UgKyAoKDEvKDEvKCgoMC42MjUvKDEtMC4wMikpKSooMSpteUhlcm8uYXR0YWNrU3BlZWQpKSkpKmFEYW1hZ2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbXlIZXJvLmxldmVsID49IDYgYW5kICgyLjUvKDEvKCgoMC42MjUvKDEtMC4wMikpKSooMSpteUhlcm8uYXR0YWNrU3BlZWQpKSkpID49IDMgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIChyRGFtYWdlKjIpICsgKGFEYW1hZ2UqMikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgbXlIZXJvLmxldmVsID49IDYgYW5kICgyLjUvKDEvKCgoMC42MjUvKDEtMC4wMikpKSooMSpteUhlcm8uYXR0YWNrU3BlZWQpKSkpIDwgMyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteURhbWFnZSA9IG15RGFtYWdlICsgckRhbWFnZSArIGFEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBIWEdSZWFkeSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteURhbWFnZSA9IG15RGFtYWdlICsgaHhnRGFtYWdlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgQldDUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIGJ3Y0RhbWFnZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEJSS1JlYWR5IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15RGFtYWdlID0gbXlEYW1hZ2UgKyBicmtEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBJUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIGlEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBUTWF0UmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIHRtYXREYW1hZ2UgKyBhRGFtYWdlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgUkh5ZHJhUmVhZHkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlEYW1hZ2UgPSBteURhbWFnZSArIHJoeWRyYURhbWFnZSArIGFEYW1hZ2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBteURhbWFnZSA8IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraWxsYWJsZVtpXSA9IDUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKG15RGFtYWdlLzQpID49IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraWxsYWJsZVtpXSA9IDQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKG15RGFtYWdlLzMpID49IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraWxsYWJsZVtpXSA9IDMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgKG15RGFtYWdlLzIpID49IGVuZW15LmhlYWx0aCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraWxsYWJsZVtpXSA9IDINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgbXlEYW1hZ2UgPj0gZW5lbXkuaGVhbHRoIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbGxhYmxlW2ldID0gMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbGxhYmxlW2ldID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2lsbGFibGVbaV0gPSA1DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kICANCiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGNEZWxheSA9IG9zLmNsb2NrKCkgKyAwLjINCiAgICAgICAgICAgICAgICBlbHNlaWYgbXlIZXJvLmRlYWQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgcmVzZXRBVygpDQogICAgICAgICAgICAgICAgICAgICAgICByZXNldFFFKCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgICAgICANCiAgICAgICAgZnVuY3Rpb24gT25EcmF3KCkNCiAgICAgICAgICAgICAgICBpZiBub3QgbXlIZXJvLmRlYWQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNZHJhdy5kcmF3Y2lyY2xlcyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdDaXJjbGUobXlIZXJvLngsIG15SGVyby55LCBteUhlcm8ueiwgUVJhbmdlLCAweEZGODBGRjAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICBpZiBWYWxpZFRhcmdldCh0cy50YXJnZXQpIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNZHJhdy5kcmF3Y2lyY2xlcyB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd0NpcmNsZSh0cy50YXJnZXQueCwgdHMudGFyZ2V0LnksIHRzLnRhcmdldC56LCAxMDAsIDB4MDk5QjIyOTkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBKYXhDb25maWcuU01kcmF3LmRyYXd0ZXh0IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEcmF3VGV4dCgiVGFyZ2V0dGluZzogIiAuLiB0cy50YXJnZXQuY2hhck5hbWUsIDE4LCA2NTAsIDI1LCAweEZGRkYwMDAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgIGZvciBpPTEsIGhlcm9NYW5hZ2VyLmlDb3VudCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgZW5lbXlkcmF3ID0gaGVyb01hbmFnZXI6R2V0SGVybyhpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgVmFsaWRUYXJnZXQoZW5lbXlkcmF3KSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEpheENvbmZpZy5TTWRyYXcuZHJhd2NpcmNsZXMgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGtpbGxhYmxlW2ldID09IDEgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGo9MCwgMjAgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd0NpcmNsZShlbmVteWRyYXcueCwgZW5lbXlkcmF3LnksIGVuZW15ZHJhdy56LCA4MCArIGoqMS41LCAweDAwMDBGRikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGtpbGxhYmxlW2ldID09IDIgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Igaj0wLCAxMCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdDaXJjbGUoZW5lbXlkcmF3LngsIGVuZW15ZHJhdy55LCBlbmVteWRyYXcueiwgODAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGtpbGxhYmxlW2ldID09IDMgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Igaj0wLCAxMCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdDaXJjbGUoZW5lbXlkcmF3LngsIGVuZW15ZHJhdy55LCBlbmVteWRyYXcueiwgODAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd0NpcmNsZShlbmVteWRyYXcueCwgZW5lbXlkcmF3LnksIGVuZW15ZHJhdy56LCAxMTAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZWlmIGtpbGxhYmxlW2ldID09IDQgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3Igaj0wLCAxMCBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERyYXdDaXJjbGUoZW5lbXlkcmF3LngsIGVuZW15ZHJhdy55LCBlbmVteWRyYXcueiwgODAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd0NpcmNsZShlbmVteWRyYXcueCwgZW5lbXlkcmF3LnksIGVuZW15ZHJhdy56LCAxMTAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRHJhd0NpcmNsZShlbmVteWRyYXcueCwgZW5lbXlkcmF3LnksIGVuZW15ZHJhdy56LCAxNDAgKyBqKjEuNSwgMHhGRjAwMDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgSmF4Q29uZmlnLlNNZHJhdy5kcmF3dGV4dCBhbmQgd2FpdHR4dFtpXSA9PSAxIGFuZCBraWxsYWJsZVtpXSB+PSAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFByaW50RmxvYXRUZXh0KGVuZW15ZHJhdywwLGZsb2F0dGV4dFtraWxsYWJsZVtpXV0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiB3YWl0dHh0W2ldID09IDEgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdhaXR0eHRbaV0gPSAzMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2FpdHR4dFtpXSA9IHdhaXR0eHRbaV0tMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZW5kDQoNCg=="), nil, "bt", _ENV))()
