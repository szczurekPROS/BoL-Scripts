assert(load(Base64Decode("bG9jYWwgdmVyc2lvbiA9ICIxLjQiDQpsb2NhbCBBVVRPVVBEQVRFID0gdHJ1ZQ0KbG9jYWwgVVBEQVRFX0hPU1QgPSAicmF3LmdpdGh1Yi5jb20iDQpsb2NhbCBVUERBVEVfUEFUSCA9ICIvc3pjenVyZWtQUk9TL0dpdEh1Yi9tYXN0ZXIvc2NyaXB0cy9zb3Jha2FCT1QgLSBRdWVlbiBPZiBUaGUgRGFyay5sdWEiLi4iP3JhbmQ9Ii4ubWF0aC5yYW5kb20oMSwxMDAwMCkNCmxvY2FsIFVQREFURV9GSUxFX1BBVEggPSBTQ1JJUFRfUEFUSC4uInNvcmFrYUJPVCAtIFF1ZWVuIE9mIFRoZSBEYXJrLmx1YSINCmxvY2FsIFVQREFURV9VUkwgPSAiaHR0cHM6Ly8iLi5VUERBVEVfSE9TVC4uVVBEQVRFX1BBVEgNCg0KZnVuY3Rpb24gX0F1dG91cGRhdGVyTXNnKG1zZykgcHJpbnQoIjxmb250IGNvbG9yPVwiIzY2NjY2NlwiPjxiPnNvcmFrYUJPVCAtIFF1ZWVuIE9mIFRoZSBEYXJrOjwvYj48L2ZvbnQ+IDxmb250IGNvbG9yPVwiI0ZGRkZGRlwiPiIuLm1zZy4uIi48L2ZvbnQ+IikgZW5kDQppZiBBVVRPVVBEQVRFIHRoZW4NCiAgICAgICAgbG9jYWwgU2VydmVyRGF0YSA9IEdldFdlYlJlc3VsdChVUERBVEVfSE9TVCwgIi9zemN6dXJla1BST1MvR2l0SHViL21hc3Rlci9zY3JpcHRzL1ZlcnNpb24vc29yYWthQk9UIC0gUXVlZW4gT2YgVGhlIERhcmsiKQ0KICAgICAgICBpZiBTZXJ2ZXJEYXRhIHRoZW4NCiAgICAgICAgICAgICAgICBTZXJ2ZXJWZXJzaW9uID0gdHlwZSh0b251bWJlcihTZXJ2ZXJEYXRhKSkgPT0gIm51bWJlciIgYW5kIHRvbnVtYmVyKFNlcnZlckRhdGEpIG9yIG5pbA0KICAgICAgICAgICAgICAgIGlmIFNlcnZlclZlcnNpb24gdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgdG9udW1iZXIodmVyc2lvbikgPCBTZXJ2ZXJWZXJzaW9uIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0F1dG91cGRhdGVyTXNnKCJOZXcgdmVyc2lvbiBhdmFpbGFibGUiLi5TZXJ2ZXJWZXJzaW9uKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfQXV0b3VwZGF0ZXJNc2coIlVwZGF0aW5nLCBwbGVhc2UgZG9uJ3QgcHJlc3MgRjkhIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVsYXlBY3Rpb24oZnVuY3Rpb24oKSBEb3dubG9hZEZpbGUoVVBEQVRFX1VSTCwgVVBEQVRFX0ZJTEVfUEFUSCwgZnVuY3Rpb24gKCkgX0F1dG91cGRhdGVyTXNnKCJTdWNjZXNzZnVsbHkgdXBkYXRlZC4gKCIuLnZlcnNpb24uLiIgPT4gIi4uU2VydmVyVmVyc2lvbi4uIiksIHByZXNzIEY5IHR3aWNlIHRvIGxvYWQgdGhlIHVwZGF0ZWQgdmVyc2lvbi4iKSBlbmQpIGVuZCwgMykNCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX0F1dG91cGRhdGVyTXNnKCJZb3UgaGF2ZSBnb3QgdGhlIGxhdGVzdCB2ZXJzaW9uICgiLi5TZXJ2ZXJWZXJzaW9uLi4iKSIpDQogICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgIF9BdXRvdXBkYXRlck1zZygiRXJyb3IgZG93bmxvYWRpbmcgdmVyc2lvbiBpbmZvISIpDQogICAgICAgIGVuZA0KZW5kDQoNCmxvY2FsIEF1dGhMaXN0ID0geyJzemN6dXJlayIsIlRoZUJ1bWVrIiwiYXdlc29tZXNlYmEiLCJEaWFibG94RFBMIiwiQmVzdCBDcmVlcCBOQSJ9IC0tW1tUYWJsZSBvZiB1c2VycyB3aG8geW91IHdpc2ggdG8gdXNlIHRoZSBzY3JpcHQuXV0NCmxvY2FsIFVzZXIgPSBzdHJpbmcubG93ZXIoR2V0VXNlcigpKSAtLVtbQ2FsbHMgdGhlIEdldFVzZXIoKSBmdW5jdGlvbiBvbmNlIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXV0NCmZ1bmN0aW9uIEF1dGgoKQ0KZm9yIGksIHVzZXJzIGluIHBhaXJzKEF1dGhMaXN0KSBkbyAtLVtbRm9yIGxvb3AgdG8gY29tcGFyZSB0aGUgdXNlcm5hbWVzLl1dDQppZiBzdHJpbmcubG93ZXIodXNlcnMpID09IFVzZXIgdGhlbiAtLVtbQ2hlY2tzIGlmIHRoZSB1c2VybmFtZXMgbWF0Y2guXV0NCnJldHVybiB0cnVlIC0tW1tBdXRoZW50aWNhdGVzIHRoZSB1c2VyIGlmIHRoZSB1c2VybmFtZXMgbWF0Y2guXV0NCmVuZA0KZW5kDQpyZXR1cm4gZmFsc2UgLS1bW0lmIHRoZSB1c2VybmFtZXMgZG9uJ3QgbWF0Y2ggYWZ0ZXIgdGhlIGZvciBsb29wIGlzIGNvbXBsZXRlZCwgdGhlIHNjcmlwdCBkb2Vzbid0IGF1dGhlbnRpY2F0ZSB5b3UuXV0NCmVuZA0KaWYgbm90IEF1dGgoKSB0aGVuIHByaW50KCJOb3QgQXV0aGVudGljYXRlZCIpIHJldHVybiBlbmQgLS1bW1RlbGxzIHRoZSB1c2VyIHRoYXQgdGhleSBjYW4ndCB1c2UgdGhlIHNjcmlwdC5dXQ0KcHJpbnQoIkF1dGhlbnRpY2F0ZWQgYXMgIi4uVXNlcikgLS1bW1RlbGxzIHRoZSB1c2VyIGtub3cgdGhhdCB0aGV5IGNhbiB1c2UgdGhlIHNjcmlwdC5dXQ0KLS1bW1BsYWNlIHlvdXIgc2NyaXB0IGNvZGUgaGVyZS5dXS0tDQoNCmxvY2FsIEhLID0gMTE0IC0tIDExNCBpcyBGMw0KbG9jYWwgd2FyZFJhbmdlID0gNjAwDQoNCmZpbmlzaGVkT25Mb2FkID0gZmFsc2UNCmluaXRpYXRlZCA9IGZhbHNlDQpGb2xsb3dLZXlzVGV4dCA9IHsiRjUiLCAiRjYiLCAiRjciLCAiRjgifSAtLUtleSBuYW1lcyBmb3IgbWVudQ0KRm9sbG93S2V5c0NvZGVzID0gezExNiwxMTcsMTE4LDExOX0gLS1EZWNpbWFsIGtleSBjb2RlcyBjb3JyZXNzcG9uZGluZyB0byBrZXkgbmFtZXMNClNldHVwRHJhd1ggPSAwLjENClNldHVwRHJhd1kgPSAwLjE1DQpNZW51VGV4dFNpemUgPSAxOA0KYWxsaWVzID0ge30NCg0KLS1UcmFja2luZyBBcmVhIERPTlQgQ0hBTkdFDQpIV0lEID0gQmFzZTY0RW5jb2RlKHRvc3RyaW5nKG9zLmdldGVudigiUFJPQ0VTU09SX0lERU5USUZJRVIiKS4ub3MuZ2V0ZW52KCJVU0VSTkFNRSIpLi5vcy5nZXRlbnYoIkNPTVBVVEVSTkFNRSIpLi5vcy5nZXRlbnYoIlBST0NFU1NPUl9MRVZFTCIpLi5vcy5nZXRlbnYoIlBST0NFU1NPUl9SRVZJU0lPTiIpKSkNCmlkID0gMjY0DQpTY3JpcHROYW1lID0gIkdlbmVyaWNGb2xsb3dBbmRXYWxrIg0KDQphc3NlcnQobG9hZChCYXNlNjREZWNvZGUoIkcweDFZVklBQVFRRUJBZ0FHWk1OQ2hvS0FBQUFBQUFBQUFBQUFRSURBQUFBSlFBQUFBZ0FBSUFmQUlBQUFRQUFBQVFLQUFBQVZYQmtZWFJsVjJWaUFBRUFBQUFDQUFBQURBQUFBQVFBRVRVQUFBQUdBVUFBUVVFQUFCMkJBQUZHZ1VBQWg4RkFBcDBCZ0FCZGdRQUFqQUhCQWdGQ0FRQkJnZ0VBblVFQUFoc0FBQUFYd0FPQWpNSEJBZ0VDQWdCQUFnQUJnVUlDQU1BQ2dBRUJnd0lBUnNOQ0FFY0R3d2FBQTRBQXdVTURBQUdFQXdCZGd3QUNnY01EQUJhQ0F3U2RRWUFCRjRBRGdJekJ3UUlCQWdRQVFBSUFBWUZDQWdEQUFvQUJBWU1DQUViRFFnQkhBOE1HZ0FPQUFNRkRBd0FCaEFNQVhZTUFBb0hEQXdBV2dnTUVuVUdBQVl3QnhRSUJRZ1VBblFHQkFRZ0Fnb2tJd0FHSkNJQ0JpSXlCeFFLZFFRQUJId0NBQUJjQUFBQUVDQUFBQUhKbGNYVnBjbVVBQkFjQUFBQnpiMk5yWlhRQUJBY0FBQUJoYzNObGNuUUFCQVFBQUFCMFkzQUFCQWdBQUFCamIyNXVaV04wQUFRUUFBQUFZbTlzTFhSeVlXTnJaWEl1WTI5dEFBTUFBQUFBQUFCVVFBUUZBQUFBYzJWdVpBQUVHQUFBQUVkRlZDQXZjbVZ6ZEM5dVpYZHdiR0Y1WlhJL2FXUTlBQVFIQUFBQUptaDNhV1E5QUFRTkFBQUFKbk5qY21sd2RFNWhiV1U5QUFRSEFBQUFjM1J5YVc1bkFBUUZBQUFBWjNOMVlnQUVEUUFBQUZ0ZU1DMDVRUzFhWVMxNlhRQUVBUUFBQUFBRUpRQUFBQ0JJVkZSUUx6RXVNQTBLU0c5emREb2dZbTlzTFhSeVlXTnJaWEl1WTI5dERRb05DZ0FFR3dBQUFFZEZWQ0F2Y21WemRDOWtaV3hsZEdWd2JHRjVaWEkvYVdROUFBUUNBQUFBY3dBRUJ3QUFBSE4wWVhSMWN3QUVDQUFBQUhCaGNuUnBZV3dBQkFnQUFBQnlaV05sYVhabEFBUURBQUFBS21FQUJBWUFBQUJqYkc5elpRQUFBQUFBQVFBQUFBQUFFQUFBQUVCdlltWjFjMk5oZEdWa0xteDFZUUExQUFBQUFnQUFBQUlBQUFBQ0FBQUFBZ0FBQUFJQUFBQUNBQUFBQWdBQUFBTUFBQUFEQUFBQUF3QUFBQU1BQUFBRUFBQUFCQUFBQUFVQUFBQUZBQUFBQlFBQUFBWUFBQUFHQUFBQUJ3QUFBQWNBQUFBSEFBQUFCd0FBQUFjQUFBQUhBQUFBQndBQUFBZ0FBQUFIQUFBQUJRQUFBQWdBQUFBSkFBQUFDUUFBQUFrQUFBQUtBQUFBQ2dBQUFBc0FBQUFMQUFBQUN3QUFBQXNBQUFBTEFBQUFDd0FBQUFzQUFBQU1BQUFBQ3dBQUFBa0FBQUFNQUFBQURBQUFBQXdBQUFBTUFBQUFEQUFBQUF3QUFBQU1BQUFBREFBQUFBd0FBQUFHQUFBQUFnQUFBR0VBQUFBQUFEVUFBQUFDQUFBQVlnQUFBQUFBTlFBQUFBSUFBQUJqQUFBQUFBQTFBQUFBQWdBQUFHUUFBQUFBQURVQUFBQURBQUFBWDJFQUF3QUFBRFVBQUFBREFBQUFZV0VBQndBQUFEVUFBQUFCQUFBQUJRQUFBRjlGVGxZQUFRQUFBQUVBRUFBQUFFQnZZbVoxYzJOaGRHVmtMbXgxWVFBREFBQUFEQUFBQUFJQUFBQU1BQUFBQUFBQUFBRUFBQUFGQUFBQVgwVk9WZ0E9IiksIG5pbCwgImJ0IiwgX0VOVikpKCkNCg0KLS1DbGFzc2VzIEFyZWENCnJvb3QgPSBuaWwNCi0tVGFzayBDbGFzcw0KVGFzayA9IHt9DQoNCi0tTm90aGluZw0KbG9jYWwgc2NyaXB0QWN0aXZlID0gdHJ1ZQ0KbG9jYWwgd2FyZFRpbWVyID0gMA0KbG9jYWwgd2FyZFNsb3QgPSBuaWwNCmxvY2FsIHdhcmRNYXRyaXggPSB7fQ0KbG9jYWwgd2FyZERldGVjdGVkRmxhZyA9IHt9DQpsb2NhbCBsYXN0V2FyZCA9IDANCndhcmRNYXRyaXhbMV0gPSB7MTAwMDAsMTE1NzgsMTAwMTIsODkyNCw3OTE2LDExMzY5LDYxODUsNDkxMSw0MDI1LDI1NzksNDAzMSwyNzg4fQ0Kd2FyZE1hdHJpeFsyXSA9IHsyODY4LDM0NTIsNDg0Miw1NDYxLDQ1OTUsNjg4NSw5ODU2LDg4NzgsOTYyMSwxMDk0MywxMTUxOSw3NjExfQ0Kd2FyZE1hdHJpeFszXSA9IHt9DQpmb3IgaSA9IDEsIDEyIGRvDQotLVdhcmQgcHJlc2VudCBuZWFyYnkgPw0Kd2FyZE1hdHJpeFszXVtpXSA9IGZhbHNlDQp3YXJkRGV0ZWN0ZWRGbGFnW2ldID0gZmFsc2UNCmVuZA0KDQogICAgLS1BdXRvIFBvdGlvbi0tDQogICAgTVBvdFVzZWQgPSBmYWxzZQ0KICAgIEhQb3RVc2VkID0gZmFsc2UNCiAgICBtYW5hTGltaXQgPSAwLjM1DQogICAgaHBMaW1pdCA9IDAuNTMNCiAgICBsYXN0VGltZU1Qb3QgPSAwDQogICAgbGFzdFRpbWVIUG90ID0gMA0KCQkNCi0tcHJlc3MgdGhpcyBrZXkgZm9yIHNwZWxsIHNldHRpbmdzKFNoaWZ0IGRlZmF1bHQpDQogICAgZGVzaXJlZEd1aUtleSA9IDB4MTANCiAgICAtLXNvcmFrYSB3aWxsIGhlYWwgdGFyZ2V0IHVwIHRvIHRoaXMgcGVyY2VudA0KICAgIGRlc2lyZWRIZWFsID0gMC43NQ0KICAgIC0tc29yYWthIHdpbGwgcmVwZWxuaXNoIHRhcmdldCBtYW5hIHVwIHRvIHRoaXMgcGVyY2VudA0KICAgIGRlc2lyZWRSZXBsZW5pc2ggPSAwLjc0DQogICAgLS1zb3Jha2Egd2lsbCB1bHQgdGVhbW1hdGVzIHVwIHRvIHRoaXMgcGVyY2VudA0KICAgIGRlc2lyZWRVbHQgPSAwLjgwDQogICAgLS1zb3Jha2Egd2lsbCB1c2Ugc3VtbW9uZXJzDQogICAgZGVzaXJlZFN1bW1vbmVycyA9IHRydWUNCiAgICAtLWVuYWJsZSBhdXRvYnV5IGl0ZW1zIGZyb20gbGlzdA0KICAgIGRlc2lyZWRJdGVtcyA9IHRydWUNCiAgICAtLUl0ZW0gTGlzdA0KCS0tW1sgQ29uZmlnIF1dDQoJc2hvcExpc3QgPSB7MjAwNCwgMjAwNCwgMTAwNiwgMTAwNCwgMzA5NiwgMTAwMSwgMTAyOCwgMzE1OCwgMzA2NywgMzA2OSwgMTAyOCwgMzEwNSwgMzE5MCwgMTAyOCwgMzAxMCwgMzAyNywgMzA2NX0NCg0KCW5leHRidXlJbmRleCA9IDENCgl3YXJkQm91Z2h0ID0gMA0KCWZpcnN0Qm91Z2h0ID0gZmFsc2UNCglsYXN0QnV5ID0gMA0KCQ0KCWJ1eURlbGF5ID0gMTAwIC0tZGVmYXVsdCAxMDANCiAgICAtLWVuYWJsZSBsZXZlbCBzcGVsbHMgZnJvbSBhcnJheSBiZWxsb3cNCiAgICBkZXNpcmVkTGV2ZWwgPSB0cnVlDQogICAgLS1sZXZlbCBzZXF1ZW5jZQ0KICAgIHNwZWxscyA9IHtfVyxfRSxfVyxfUSxfRSxfUixfVyxfUSxfVyxfRSxfUixfRSxfUSxfRSxfVyxfUixfUSxfUX0NCiAgICAtLXdhcmRzDQogICAgd2FyZHMgPSB7e3g9MTAwMDAsej0yODYwfSx7eD00MDAwLHo9MTE2MDB9LHt4PTQ4MDAsej04OTI1fSx7eD05MTI1LHo9NTMxNX0se3g9MTE0NTAsej02OTkwfSx7eD02NzM1LHo9MjkyNX0se3g9MjYxNSx6PTc1MDB9LHt4PTczMDAsej0xMTQ5MH19DQogICAgLS10ZWFtIGRlcGVuZGVudCB3YXJkcw0KICAgIGlmIG15SGVyby50ZWFtID09IFRFQU1fQkxVRSB0aGVuDQogICAgICAgICAgICB3YXJkc1sjd2FyZHMgKyAxXSA9IHt4PTEzMjYwLHo9MjkxMH0NCiAgICAgICAgICAgIHdhcmRzWyN3YXJkcyArIDFdID0ge3g9MjU1MCx6PTEzNDUwfQ0KICAgIGVsc2UNCiAgICAgICAgICAgIHdhcmRzWyN3YXJkcyArIDFdID0ge3g9MTE2NzUsej0xMTAwfQ0KICAgICAgICAgICAgd2FyZHNbI3dhcmRzICsgMV0gPSB7eD05MzUsej0xMjI0NX0NCiAgICBlbmQNCg0KaWYgbXlIZXJvLmNoYXJOYW1lIH49ICJTb3Jha2EiIHRoZW4gcmV0dXJuIGVuZA0KDQogICAgLS1maXggYnVnc3BsYXQgZm9yIG5vdw0KICAgIElzV2FsbE9mR3Jhc3MgPSBmdW5jdGlvbigpIHJldHVybiAwIGVuZA0KICAgIA0KICAgIHJlcXVpcmUgIkFJRGF0YSINCiAgICByZXF1aXJlICJBSVJvdXRpbmUiDQogICAgcmVxdWlyZSAiQUlUaW1lciINCiAgICByZXF1aXJlICJBSUZpbmQiDQogICAgcmVxdWlyZSAiQUlHdWkiDQogICAgcmVxdWlyZSAiQUlTdGF0Ig0KICAgIHJlcXVpcmUgIkFJQ29uZGl0aW9uIg0KICAgIHJlcXVpcmUgIkFJU3BlbGwiDQoNCg0KZnVuY3Rpb24gVGFzazpuZXcobykNCglvID0gbyBvciB7fSAgIC0tIGNyZWF0ZSBvYmplY3QgaWYgdXNlciBkb2VzIG5vdCBwcm92aWRlIG9uZQ0KCXNldG1ldGF0YWJsZShvLCBzZWxmKQ0KCXNlbGYuX19pbmRleCA9IHNlbGYNCglyZXR1cm4gbw0KZW5kDQoNCmZ1bmN0aW9uIFRhc2s6cnVuKCkNCglQcmludENoYXQoIkNIQU1PVSBUQVNLIFJVTiIpDQplbmQNCg0KZnVuY3Rpb24gVGFzazphZGRDaGlsZCh2YWx1ZSkNCgl0YWJsZS5pbnNlcnQoc2VsZix2YWx1ZSkNCmVuZA0KDQpmdW5jdGlvbiBUYXNrOmFkZEFsbCh2YWx1ZSkNCglmb3IgaSA9IDEsICN2YWx1ZSwgMSBkbw0KCQl0YWJsZS5pbnNlcnQoc2VsZiwgdmFsdWVbaV0pDQoJZW5kDQplbmQNCg0KZnVuY3Rpb24gVGFzazpwcmludEFsbCgpDQoJZm9yIGkgPSAxLCAjc2VsZiwgMSBkbw0KCQlQcmludENoYXQoIlZhbHVlOiAiLi5zZWxmW2ldKQ0KCWVuZA0KZW5kDQoNCg0KLS1bW1NlbGVjdG9yIENsYXNzXV0tLQ0KDQpTZWxlY3RvciA9IFRhc2s6bmV3KCkNCg0KZnVuY3Rpb24gU2VsZWN0b3I6cnVuKCkNCglmb3IgaSwgdiBpbiBpcGFpcnMoc2VsZikgZG8NCgkJaWYgdjpydW4oKSB0aGVuIHJldHVybiB0cnVlIGVuZA0KCWVuZA0KCXJldHVybiBmYWxzZQ0KZW5kDQoNCg0KLS1bW1NlcXVlbmNlIENsYXNzXV0tLQ0KDQpTZXF1ZW5jZSA9IFRhc2s6bmV3KCkNCg0KZnVuY3Rpb24gU2VxdWVuY2U6cnVuKCkNCglmb3IgaSwgdiBpbiBpcGFpcnMoc2VsZikgZG8NCgkJaWYgbm90IHY6cnVuKCkgdGhlbiByZXR1cm4gZmFsc2UgZW5kDQoJZW5kDQoJcmV0dXJuIHRydWUNCmVuZA0KDQoNCi0tW1tBY3Rpb24gQ2xhc3NdXS0tDQoNCkFjdGlvbiA9IFRhc2s6bmV3KCkNCg0KZnVuY3Rpb24gQWN0aW9uOnJ1bigpDQoJbG9jYWwgYWN0aW9ucyA9IHt9DQoJUHJpbnRDaGF0KHNlbGYuYWN0aW9uKQ0KCQ0KCWFjdGlvbnNbInN0YXJ0VGltZSJdID0gZnVuY3Rpb24oKQ0KCQlpZiBvcy5jbG9jaygpID4gU0NSSVBUX1NUQVJUX1RJTUUgdGhlbiByZXR1cm4gdHJ1ZQ0KCQllbHNlIHJldHVybiBmYWxzZSBlbmQNCgllbmQNCgkNCglhY3Rpb25zWyJub1BhcnRuZXIiXSA9IGZ1bmN0aW9uKCkNCgkJLS1pZihwYXJ0bmVyIH49IG5pbCkgdGhlbiBQcmludENoYXQocGFydG5lci5uYW1lKSBlbmQNCgkJaWYgcGFydG5lciA9PSBuaWwgdGhlbiByZXR1cm4gdHJ1ZQ0KCQllbHNlIHJldHVybiBmYWxzZQ0KCQllbmQNCgllbmQNCgkNCglhY3Rpb25zWyJwYXJ0bmVyQWZrIl0gPSBmdW5jdGlvbigpDQoJCWNoZWNrQWZrKCkNCgkJaWYgcEFmayB0aGVuIHBhcnRuZXIgPSBuaWwgZW5kDQoJCXJldHVybiBwQWZrDQoJZW5kDQoJDQoJYWN0aW9uc1sicGFydG5lckFsaXZlIl0gPSBmdW5jdGlvbigpDQoJCWlmIHBhcnRuZXIgfj0gbmlsIGFuZCBub3QgcGFydG5lci5kZWFkIHRoZW4gcmV0dXJuIHRydWUNCgkJZWxzZSByZXR1cm4gZmFsc2UNCgkJZW5kDQoJZW5kDQoJDQoJYWN0aW9uc1sicGFydG5lckRlYWQiXSA9IGZ1bmN0aW9uKCkNCgkJaWYgcGFydG5lciB+PSBuaWwgYW5kICBwYXJ0bmVyLmRlYWQgdGhlbiByZXR1cm4gdHJ1ZQ0KCQllbHNlIHJldHVybiBmYWxzZQ0KCQllbmQNCgllbmQNCgkNCglhY3Rpb25zWyJwYXJ0bmVyQ2xvc2UiXSA9IGZ1bmN0aW9uKCkNCgkJaWYgcGxheWVyOkdldERpc3RhbmNlKHBhcnRuZXIpIDw9IGNvbmZpZy5mb2xsb3dDaGFtcC5mb2xsb3dEaXN0IHRoZW4gcmV0dXJuIHRydWUNCgkJZWxzZSByZXR1cm4gZmFsc2UNCgkJZW5kDQoJZW5kDQoJDQoJLS1UT0RPOiBJbXBsZW1lbnRzDQoJYWN0aW9uc1siZm9sbG93RnJpZW5kIl0gPSBmdW5jdGlvbigpDQoJCQ0KCWVuZA0KCQ0KCWFjdGlvbnNbImZyaWVuZENsb3NlIl0gPSBmdW5jdGlvbigpDQoJCWxvY2FsIGZyaWVuZHMgPSBHZXRQbGF5ZXJzKHBsYXllci50ZWFtLCBmYWxzZSwgZmFsc2UpDQoJCWxvY2FsIGNsb3Nlc3QgPSBmcmllbmRzWzFdDQoJCWZvciBpID0gMSwgI2ZyaWVuZHMsIDEgZG8NCgkJCWlmIGZyaWVuZHNbaV0gfj0gbmlsIGFuZCBwbGF5ZXI6R2V0RGlzdGFuY2UoZnJpZW5kc1tpXSkgPCBwbGF5ZXI6R2V0RGlzdGFuY2UoY2xvc2VzdCkgdGhlbiBjbG9zZXN0ID0gZnJpZW5kc1tpXSBlbmQNCgkJZW5kDQoJCQ0KCQlpZiBjbG9zZXN0IH49IG5pbCBhbmQgcGxheWVyOkdldERpc3RhbmNlKGNsb3Nlc3QpIDw9IGNvbmZpZy5mb2xsb3dDaGFtcC5mb2xsb3dEaXN0IHRoZW4gcmV0dXJuIHRydWUNCgkJZWxzZSByZXR1cm4gZmFsc2UNCgkJZW5kDQoJZW5kDQoJDQoJYWN0aW9uc1siaW5UdXJyZXQiXSA9IGZ1bmN0aW9uKCkNCgkJbG9jYWwgbXlUdXJyZXQgPSBHZXRDbG9zZVRvd2VyKHBsYXllciwgcGxheWVyLnRlYW0pDQoJCWlmIHBsYXllcjpHZXREaXN0YW5jZShteVR1cnJldCkgPD0gY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QgYW5kIHBsYXllcjpHZXREaXN0YW5jZShhbGx5U3Bhd24pIDwgR2V0RGlzdGFuY2UoYWxseVNwYXduLCBteVR1cnJldCkgdGhlbiByZXR1cm4gdHJ1ZQ0KCQllbHNlIHJldHVybiBmYWxzZQ0KCQllbmQNCgllbmQNCgkNCglhY3Rpb25zWyJtYXRjaFBhcnRuZXIiXSA9IGZ1bmN0aW9uKCkNCgkJaWYgcGFydG5lciA9PSBuaWwgdGhlbg0KCQkJbG9jYWwgbXlDYXJyeSA9IEdldFBsYXllcnMocGxheWVyLnRlYW0sIGZhbHNlLCBmYWxzZSkNCgkJCWxvY2FsIHNjb3JlID0ge30NCgkJCWxvY2FsIG1heFNjb3JlID0gLTENCgkJCXBhcnRuZXIgPSBuaWwNCgkJDQoJCQlmb3IgaSA9IDEsICNteUNhcnJ5LCAxIGRvDQoJCQkJc2NvcmVbaV0gPSAwDQoJCQkJZm9yIGogPSAxLCAjbXlDYXJyeSwgMSBkbw0KCQkJCQlpZiBHZXREaXN0YW5jZShteUNhcnJ5W2ldLCBib3R0b21Qb2ludCkgPCBHZXREaXN0YW5jZShteUNhcnJ5W2pdLCBib3R0b21Qb2ludCkgdGhlbiBzY29yZVtpXSA9IHNjb3JlW2ldICsgMSBlbmQNCgkJCQllbmQNCgkJCQlpZiBHZXREaXN0YW5jZShib3R0b21Qb2ludCwgbXlDYXJyeVtpXSkgPCA2MDAwIHRoZW4gc2NvcmVbaV0gPSBzY29yZVtpXSArIDUgZW5kDQoJCQkJaWYgR2V0RGlzdGFuY2UoYWxseVNwYXduLCBteUNhcnJ5W2ldKSA8IDUwMDAgdGhlbiBzY29yZVtpXSA9IHNjb3JlW2ldIC0gMTAwMDAgZW5kDQoJCQllbmQNCgkJCQ0KCQkJZm9yIGsgPSAxLCAjbXlDYXJyeSwgMSBkbw0KCQkJCWlmIHNjb3JlW2tdID4gbWF4U2NvcmUgYW5kIHNjb3JlW2tdID4gMCB0aGVuDQoJCQkJCW1heFNjb3JlID0gc2NvcmVba10NCgkJCQkJcGFydG5lciA9IG15Q2Fycnlba10NCgkJCQllbmQNCgkJCWVuZA0KCQkJDQoJCQlpZiBwYXJ0bmVyIH49IG5pbCB0aGVuDQoJCQkJUHJpbnRDaGF0KCJteVBhcnRuZXI6ICIuLnBhcnRuZXIubmFtZSkNCgkJCQlwQWZrID0gZmFsc2UNCgkJCQlsYXN0UGFydG5lck1vdmUgPSBvcy5jbG9jaygpDQoJCQkJcmV0dXJuIHRydWUNCgkJCWVsc2UNCgkJCQlyZXR1cm4gZmFsc2UNCgkJCWVuZA0KCQllbHNlDQoJCQlyZXR1cm4gZmFsc2UNCgkJZW5kDQoJZW5kDQoJDQoJYWN0aW9uc1sicGFydG5lclJlY2FsbGluZyJdID0gZnVuY3Rpb24oKQ0KCQlyZXR1cm4gcFJlY2FsbGluZw0KCWVuZA0KCQ0KCWFjdGlvbnNbImlzUmVjYWxsaW5nIl0gPSBmdW5jdGlvbigpDQoJCWZvciBpPTEsIG9iak1hbmFnZXIubWF4T2JqZWN0cywgMSBkbw0KCQkJbG9jYWwgb2JqID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCgkJCWlmIG9iaiB+PSBuaWwgYW5kIG9iai52YWxpZCBhbmQgb2JqLm5hbWU6ZmluZCgiVGVsZXBvcnRIb21lIikgfj0gbmlsIGFuZCBwbGF5ZXI6R2V0RGlzdGFuY2Uob2JqKSA8IDcwIHRoZW4NCgkJCQlyZXR1cm4gdHJ1ZQ0KCQkJZW5kDQoJCWVuZA0KCQlyZXR1cm4gZmFsc2UNCgllbmQNCgkNCglhY3Rpb25zWyJmb2xsb3dQYXJ0bmVyIl0gPSBmdW5jdGlvbigpDQoJCWZvbGxvd1ggPSAoKGFsbHlTcGF3bi54IC0gcGFydG5lci54KS8ocGFydG5lcjpHZXREaXN0YW5jZShhbGx5U3Bhd24pKSAqICgoY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QgLSAzMDApIC8gMiArIDMwMCkgKyBwYXJ0bmVyLnggKyBtYXRoLnJhbmRvbSgtKChjb25maWcuZm9sbG93Q2hhbXAuZm9sbG93RGlzdC0zMDApLzMpLCgoY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QtMzAwKS8zKSkpDQoJCWZvbGxvd1ogPSAoKGFsbHlTcGF3bi56IC0gcGFydG5lci56KS8ocGFydG5lcjpHZXREaXN0YW5jZShhbGx5U3Bhd24pKSAqICgoY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QgLSAzMDApIC8gMiArIDMwMCkgKyBwYXJ0bmVyLnogKyBtYXRoLnJhbmRvbSgtKChjb25maWcuZm9sbG93Q2hhbXAuZm9sbG93RGlzdC0zMDApLzMpLCgoY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QtMzAwKS8zKSkpDQoJCQkNCgkJcGxheWVyOk1vdmVUbyhmb2xsb3dYLCBmb2xsb3daKQ0KCQkNCgkJcmV0dXJuIHRydWUNCgllbmQNCgkNCglhY3Rpb25zWyJnb1R1cnJldCJdID0gZnVuY3Rpb24oKQ0KCQlsb2NhbCBteVR1cnJldCA9IEdldENsb3NlVG93ZXIocGxheWVyLCBwbGF5ZXIudGVhbSkNCgkJZm9sbG93WCA9IChhbGx5U3Bhd24ueCAtIG15VHVycmV0LngpLyhteVR1cnJldDpHZXREaXN0YW5jZShhbGx5U3Bhd24pKSAqICgoY29uZmlnLmZvbGxvd0NoYW1wLmZvbGxvd0Rpc3QgLSAzMDApIC8gMiArIDMwMCkgKyBteVR1cnJldC54DQoJCWZvbGxvd1ogPSAoYWxseVNwYXduLnogLSBteVR1cnJldC56KS8obXlUdXJyZXQ6R2V0RGlzdGFuY2UoYWxseVNwYXduKSkgKiAoKGNvbmZpZy5mb2xsb3dDaGFtcC5mb2xsb3dEaXN0IC0gMzAwKSAvIDIgKyAzMDApICsgbXlUdXJyZXQueg0KCQlwbGF5ZXI6TW92ZVRvKG1hdGguZmxvb3IoZm9sbG93WCksIG1hdGguZmxvb3IoZm9sbG93WikpDQoJCQkNCgkJcmV0dXJuIHRydWUNCgllbmQNCgkNCglhY3Rpb25zWyJ0b3dlckZvY3VzUGxheWVyIl0gPSBmdW5jdGlvbigpDQoJCXJldHVybiBGb2N1c09mVG93ZXINCgllbmQNCgkNCglhY3Rpb25zWyJydW5Gcm9tVG93ZXIiXSA9IGZ1bmN0aW9uKCkNCgkJbG9jYWwgZm9sbG93WCA9ICgyICogbXlIZXJvLngpIC0geWlrZXNUdXJyZXQueA0KCQlsb2NhbCBmb2xsb3daID0gKDIgKiBteUhlcm8ueikgLSB5aWtlc1R1cnJldC56DQoJCXBsYXllcjpNb3ZlVG8oZm9sbG93WCwgZm9sbG93WikNCgkJDQoJCXJldHVybiB0cnVlDQoJZW5kDQoJDQoJYWN0aW9uc1sicmVjYWxsIl0gPSBmdW5jdGlvbigpDQoJCS0tUHJpbnRDaGF0KCJSZWNhbGxpbmciKQ0KCQlpZiBub3QgSW5Gb3VudGFpbigpIHRoZW4gQ2FzdFNwZWxsKFJFQ0FMTCkgZW5kDQoJCXJldHVybiB0cnVlDQoJZW5kDQoJDQoJbG9jYWwgcmVzdWx0ID0gYWN0aW9uc1tzZWxmLmFjdGlvbl0oKQ0KCS0taWYgcmVzdWx0IHRoZW4gUHJpbnRDaGF0KCJ0cnVlIikgZWxzZSBQcmludENoYXQoImZhbHNlIikgZW5kDQoJcmV0dXJuIHJlc3VsdA0KZW5kDQoNCi0tW1tFbmQgb2YgQ2xhc3NlcyBhcmVhXV0tLQ0KDQoNCi0tW1tVdGlsIFNlY3Rpb25dXS0tDQoNCmZ1bmN0aW9uIGRldGVjdFNwYXduUG9pbnRzKCkNCglmb3IgaT0xLCBvYmpNYW5hZ2VyLm1heE9iamVjdHMsIDEgZG8NCgkJbG9jYWwgY2FuZGlkYXRlID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCgkJaWYgY2FuZGlkYXRlIH49IG5pbCBhbmQgY2FuZGlkYXRlLnZhbGlkIGFuZCBjYW5kaWRhdGUudHlwZSA9PSAib2JqX1NwYXduUG9pbnQiIHRoZW4gDQoJCQlpZiBjYW5kaWRhdGUueCA8IDMwMDAgdGhlbiANCgkJCQlpZiBwbGF5ZXIudGVhbSA9PSBURUFNX0JMVUUgdGhlbiBhbGx5U3Bhd24gPSBjYW5kaWRhdGUgZWxzZSBlbmVteVNwYXduID0gY2FuZGlkYXRlIGVuZA0KCQkJZWxzZSANCgkJCQlpZiBwbGF5ZXIudGVhbSA9PSBURUFNX0JMVUUgdGhlbiBlbmVteVNwYXduID0gY2FuZGlkYXRlIGVsc2UgYWxseVNwYXduID0gY2FuZGlkYXRlIGVuZA0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KZW5kDQoNCg0KLS1bW3JldHVybiB0b3dlcnMgdGFibGVdXS0tDQoNCmZ1bmN0aW9uIEdldFRvd2Vycyh0ZWFtKQ0KCWxvY2FsIHRvd2VycyA9IHt9DQoJZm9yIGk9MSwgb2JqTWFuYWdlci5tYXhPYmplY3RzLCAxIGRvDQoJCWxvY2FsIHRvd2VyID0gb2JqTWFuYWdlcjpnZXRPYmplY3QoaSkNCgkJaWYgdG93ZXIgfj0gbmlsIGFuZCB0b3dlci52YWxpZCBhbmQgdG93ZXIudHlwZSA9PSAib2JqX0FJX1R1cnJldCIgYW5kIHRvd2VyLnZpc2libGUgYW5kIHRvd2VyLnRlYW0gPT0gdGVhbSB0aGVuDQoJCQl0YWJsZS5pbnNlcnQodG93ZXJzLHRvd2VyKQ0KCQllbmQNCgllbmQNCglpZiAjdG93ZXJzID4gMCB0aGVuDQoJCXJldHVybiB0b3dlcnMNCgllbHNlDQoJCXJldHVybiBmYWxzZQ0KCWVuZA0KZW5kDQoNCg0KZnVuY3Rpb24gR2V0Q2xvc2VUb3dlcihoZXJvLCB0ZWFtKQ0KCWxvY2FsIHRvd2VycyA9IEdldFRvd2Vycyh0ZWFtKQ0KCWlmICN0b3dlcnMgPiAwIHRoZW4NCgkJbG9jYWwgY2FuZGlkYXRlID0gdG93ZXJzWzFdDQoJCWZvciBpPTIsICN0b3dlcnMsIDEgZG8NCgkJCWlmICh0b3dlcnNbaV0uaGVhbHRoL3Rvd2Vyc1tpXS5tYXhIZWFsdGggPiAwLjEpIGFuZCAgaGVybzpHZXREaXN0YW5jZShjYW5kaWRhdGUpID4gaGVybzpHZXREaXN0YW5jZSh0b3dlcnNbaV0pIHRoZW4gY2FuZGlkYXRlID0gdG93ZXJzW2ldIGVuZA0KCQllbmQNCgkJcmV0dXJuIGNhbmRpZGF0ZQ0KCWVsc2UNCgkJcmV0dXJuIGZhbHNlDQoJZW5kDQplbmQNCg0KDQpmdW5jdGlvbiBHZXRQbGF5ZXJzKHRlYW0sIGluY2x1ZGVEZWFkLCBpbmNsdWRlU2VsZikNCglsb2NhbCBwbGF5ZXJzID0ge30NCglsb2NhbCByZXN1bHQgPSB7fQ0KCQ0KCWlmIHRlYW0gPT0gcGxheWVyLnRlYW0gdGhlbg0KCQlwbGF5ZXJzID0gR2V0QWxseUhlcm9lcygpDQoJZWxzZQ0KCQlwbGF5ZXJzID0gR2V0RW5lbXlIZXJvZXMoKQ0KCWVuZA0KCQ0KCWZvciBpPTEsICNwbGF5ZXJzLCAxIGRvDQoJCWlmIHBsYXllcnNbaV0udmlzaWJsZSBhbmQgKG5vdCBwbGF5ZXJzW2ldLmRlYWQgb3IgcGxheWVyc1tpXS5kZWFkID09IGluY2x1ZGVEZWFkKSB0aGVuDQoJCQl0YWJsZS5pbnNlcnQocmVzdWx0LCBwbGF5ZXJzW2ldKQ0KCQllbmQNCgllbmQNCgkNCglpZiANCgkJaW5jbHVkZVNlbGYgdGhlbiB0YWJsZS5pbnNlcnQocmVzdWx0LCBwbGF5ZXIpDQoJZWxzZSANCgkJZm9yIGk9MSwgI3Jlc3VsdCwgMSBkbw0KCQkJaWYgcmVzdWx0W2ldID09IHBsYXllciB0aGVuDQoJCQkJdGFibGUucmVtb3ZlKHJlc3VsdCwgaSkNCgkJCQlicmVhaw0KCQkJZW5kDQoJCWVuZA0KCWVuZA0KCQ0KCXJldHVybiByZXN1bHQNCmVuZA0KDQoNCmZ1bmN0aW9uIGNoZWNrQWZrKCkNCglpZiBwYXJ0bmVyIH49IG5pbCBhbmQgR2V0RGlzdGFuY2UocGFydG5lciwgYWxseVNwYXduKSA8IDMwMDAgdGhlbg0KCQlpZiBvcy5jbG9jaygpID49IGxhc3RQYXJ0bmVyTW92ZSArIEFGS19NQVhUSU1FIHRoZW4NCgkJCXBBZmsgPSB0cnVlDQoJCWVuZA0KCWVsc2VpZiBwYXJ0bmVyIH49IG5pbCB0aGVuDQoJCWxhc3RQYXJ0bmVyTW92ZSA9IG9zLmNsb2NrKCkNCgkJcEFmayA9IGZhbHNlDQoJZW5kDQplbmQNCg0KLS1bW0VuZCBVdGlsIFNlY3Rpb25dXS0tDQoNCmZ1bmN0aW9uIG1vdW50QmVoYXZpb3JUcmVlKCkNCgktLTFzdCBsZXZlbA0KCXJvb3QgPSBTZXF1ZW5jZTpuZXcoKQ0KCXNlcXVlbmNlMSA9IFNlcXVlbmNlOm5ldygpDQoJc2VxdWVuY2UyID0gU2VxdWVuY2U6bmV3KCkNCglzZXF1ZW5jZTMgPSBTZXF1ZW5jZTpuZXcoKQ0KCXNlcXVlbmNlNCA9IFNlcXVlbmNlOm5ldygpDQoJc2VxdWVuY2U1ID0gU2VxdWVuY2U6bmV3KCkNCglzZXF1ZW5jZTYgPSBTZXF1ZW5jZTpuZXcoKQ0KCXNlcXVlbmNlNyA9IFNlcXVlbmNlOm5ldygpIC0tIEF0dGFja2VkIGJ5IHRvd2VyDQoJc2VxdWVuY2U4ID0gU2VxdWVuY2U6bmV3KCkgLS0gU2FmZSBpbiB0dXJyZXQNCgkNCglzZWxlY3RvcjEgPSBTZWxlY3RvcjpuZXcoKQ0KCXNlbGVjdG9yMiA9IFNlbGVjdG9yOm5ldygpDQoJc2VsZWN0b3IzID0gU2VsZWN0b3I6bmV3KCkNCglzZWxlY3RvcjQgPSBTZWxlY3RvcjpuZXcoKQ0KCXNlbGVjdG9yNSA9IFNlbGVjdG9yOm5ldygpIC0tIHBhcnRuZXIgYWZrDQoJDQoJc3RhcnRUaW1lIAkJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJzdGFydFRpbWUifQ0KCW5vUGFydG5lciAJCT0gQWN0aW9uOm5ld3thY3Rpb24gPSAibm9QYXJ0bmVyIn0NCglwYXJ0bmVyQWZrIAkJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJwYXJ0bmVyQWZrIn0NCgltYXRjaFBhcnRuZXIgCT0gQWN0aW9uOm5ld3thY3Rpb24gPSAibWF0Y2hQYXJ0bmVyIn0NCglwYXJ0bmVyQWxpdmUgCT0gQWN0aW9uOm5ld3thY3Rpb24gPSAicGFydG5lckFsaXZlIn0NCglwYXJ0bmVyRGVhZCAJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJwYXJ0bmVyRGVhZCJ9DQoJaW5UdXJyZXQgCQk9IEFjdGlvbjpuZXd7YWN0aW9uID0gImluVHVycmV0In0NCglyZWNhbGwgCQkJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJyZWNhbGwifQ0KCXBhcnRuZXJDbG9zZSAJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJwYXJ0bmVyQ2xvc2UifQ0KCWZvbGxvd1BhcnRuZXIgCT0gQWN0aW9uOm5ld3thY3Rpb24gPSAiZm9sbG93UGFydG5lciJ9DQoJZ29UdXJyZXQgCQk9IEFjdGlvbjpuZXd7YWN0aW9uID0gImdvVHVycmV0In0NCglwYXJ0bmVyUmVjYWxsaW5nPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJwYXJ0bmVyUmVjYWxsaW5nIn0NCglmcmllbmRDbG9zZQkJPSBBY3Rpb246bmV3e2FjdGlvbiA9ICJmcmllbmRDbG9zZSJ9DQoJZm9sbG93RnJpZW5kIAk9IEFjdGlvbjpuZXd7YWN0aW9uID0gImZvbGxvd0ZyaWVuZCJ9DQoJdG93ZXJGb2N1c1BsYXllcj0gQWN0aW9uOm5ld3thY3Rpb24gPSAidG93ZXJGb2N1c1BsYXllciJ9DQoJcnVuRnJvbVRvd2VyCT0gQWN0aW9uOm5ld3thY3Rpb24gPSAicnVuRnJvbVRvd2VyIn0NCgkNCgktLWx2bCAxDQoJcm9vdDphZGRDaGlsZChzdGFydFRpbWUpDQoJcm9vdDphZGRDaGlsZChzZWxlY3RvcjEpDQoJDQoJLS1sdmwyDQoJc2VsZWN0b3IxOmFkZENoaWxkKHNlcXVlbmNlMSkNCglzZWxlY3RvcjE6YWRkQ2hpbGQoc2VxdWVuY2U3KSAtLSBmbGVlIGZyb20gdG93ZXINCglzZWxlY3RvcjE6YWRkQ2hpbGQoc2VxdWVuY2UyKQ0KCXNlbGVjdG9yMTphZGRDaGlsZChzZXF1ZW5jZTMpDQoJc2VsZWN0b3IxOmFkZENoaWxkKHNlcXVlbmNlNCkNCgkNCgktLWx2bDMNCglzZXF1ZW5jZTE6YWRkQ2hpbGQoc2VsZWN0b3I1KQ0KCXNlcXVlbmNlMTphZGRDaGlsZChtYXRjaFBhcnRuZXIpDQoJDQoJc2VxdWVuY2U3OmFkZENoaWxkKHRvd2VyRm9jdXNQbGF5ZXIpDQoJc2VxdWVuY2U3OmFkZENoaWxkKHJ1bkZyb21Ub3dlcikNCgkNCglzZXF1ZW5jZTI6YWRkQ2hpbGQocGFydG5lckFsaXZlKQ0KCXNlcXVlbmNlMjphZGRDaGlsZChzZWxlY3RvcjIpDQoJDQoJc2VxdWVuY2UzOmFkZENoaWxkKHBhcnRuZXJEZWFkKQ0KCXNlcXVlbmNlMzphZGRDaGlsZChzZWxlY3RvcjMpDQoJDQoJc2VxdWVuY2U0OmFkZENoaWxkKGluVHVycmV0KQ0KCXNlcXVlbmNlNDphZGRDaGlsZChyZWNhbGwpDQoJDQoJLS1sdmwgNA0KCXNlbGVjdG9yNTphZGRDaGlsZChwYXJ0bmVyQWZrKQ0KCXNlbGVjdG9yNTphZGRDaGlsZChub1BhcnRuZXIpDQoJDQoJc2VsZWN0b3IyOmFkZENoaWxkKHNlcXVlbmNlNSkNCglzZWxlY3RvcjI6YWRkQ2hpbGQocGFydG5lckNsb3NlKQ0KCXNlbGVjdG9yMjphZGRDaGlsZChmb2xsb3dQYXJ0bmVyKQ0KCQ0KCS0tc2VsZWN0b3IzOmFkZENoaWxkKHNlcXVlbmNlNikNCglzZWxlY3RvcjM6YWRkQ2hpbGQoc2VsZWN0b3I0KQ0KCQ0KCS0tbHZsIDUNCglzZXF1ZW5jZTU6YWRkQ2hpbGQocGFydG5lclJlY2FsbGluZykNCgktLXNlcXVlbmNlNTphZGRDaGlsZChwYXJ0bmVyQ2xvc2UpDQoJc2VxdWVuY2U1OmFkZENoaWxkKHJlY2FsbCkNCgkNCgktLXNlcXVlbmNlNjphZGRDaGlsZChmcmllbmRDbG9zZSkNCgktLXNlcXVlbmNlNjphZGRDaGlsZChmb2xsb3dGcmllbmQpDQoJDQoJc2VsZWN0b3I0OmFkZENoaWxkKHNlcXVlbmNlOCkNCglzZWxlY3RvcjQ6YWRkQ2hpbGQoZ29UdXJyZXQpDQoJDQoJLS1sdmwgNg0KCXNlcXVlbmNlODphZGRDaGlsZChpblR1cnJldCkNCglzZXF1ZW5jZTg6YWRkQ2hpbGQocmVjYWxsKQ0KZW5kDQoNCg0KZnVuY3Rpb24gT25SZWNhbGwoaGVybywgY2hhbm5lbFRpbWVJbk1zKQ0KICAgIGlmIGhlcm8uaXNNZSB0aGVuDQogICAgICAgIG1lUmVjYWxsaW5nID0gdHJ1ZQ0KCWVsc2VpZiBoZXJvLm5hbWUgPT0gcGFydG5lci5uYW1lIHRoZW4NCgkJcFJlY2FsbGluZyA9IHRydWUNCiAgICBlbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIE9uQWJvcnRSZWNhbGwoaGVybykNCiAgICBpZiBoZXJvLmlzTWUgdGhlbg0KICAgICAgICBtZVJlY2FsbGluZyA9IGZhbHNlDQoJZWxzZWlmIGhlcm8ubmFtZSA9PSBwYXJ0bmVyLm5hbWUgdGhlbg0KCQlwUmVjYWxsaW5nID0gZmFsc2UNCiAgICBlbmQgICAgICAgIA0KZW5kDQoNCg0KZnVuY3Rpb24gT25GaW5pc2hSZWNhbGwoaGVybykNCiAgICBpZiBoZXJvLmlzTWUgdGhlbg0KICAgICAgICBtZVJlY2FsbGluZyA9IGZhbHNlDQoJZWxzZWlmIGhlcm8ubmFtZSA9PSBwYXJ0bmVyLm5hbWUgdGhlbg0KCQlwUmVjYWxsaW5nID0gZmFsc2UNCiAgICBlbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIE9uRGVsZXRlT2JqKG9iamVjdCkNCglpZiBvYmplY3QubmFtZTpmaW5kKCJ5aWtlcyIpIHRoZW4NCgkJRm9jdXNPZlRvd2VyID0gZmFsc2UNCgkJeWlrZXNUdXJyZXQgPSBuaWwNCgllbHNlaWYgb2JqZWN0Lm5hbWU6ZmluZCgiVGVsZXBvcnRIb21lIikgYW5kIEdldERpc3RhbmNlKHBhcnRuZXIsIG9iamVjdCkgPCA3MCB0aGVuDQoJCURlbGF5QWN0aW9uKGZ1bmN0aW9uKCkgDQoJCXBSZWNhbGxpbmcgPSBmYWxzZSANCgkJZW5kLCAwLjUsIHswfSkNCgllbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIE9uQ3JlYXRlT2JqKG9iamVjdCkNCglpZiBvYmplY3QubmFtZTpmaW5kKCJ5aWtlcyIpIHRoZW4NCgkJRm9jdXNPZlRvd2VyID0gdHJ1ZQ0KCQl5aWtlc1R1cnJldCA9IEdldENsb3NlVG93ZXIocGxheWVyLCBURUFNX0VORU1ZKQ0KCWVsc2VpZiBvYmplY3QubmFtZTpmaW5kKCJUZWxlcG9ydEhvbWUiKSBhbmQgR2V0RGlzdGFuY2UocGFydG5lciwgb2JqZWN0KSA8IDcwIHRoZW4NCgkJcFJlY2FsbGluZyA9IHRydWUNCgllbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIGRyYXdGb2xsb3dNZW51KCkNCglsb2NhbCB0ZW1wU2V0dXBEcmF3WSA9IFNldHVwRHJhd1kNCgl0ZW1wU2V0dXBEcmF3WSA9IHRlbXBTZXR1cERyYXdZICsgMC4wMw0KCQ0KCWZvciBpPTEsICNhbGxpZXMsIDEgZG8NCgkJRHJhd1RleHQoIlByZXNzICIuLkZvbGxvd0tleXNUZXh0W2ldLi4iIHRvIGZvbGxvdyBwbGF5ZXI6ICIuLmFsbGllc1tpXS5uYW1lLi4iICgiLi5hbGxpZXNbaV0uY2hhck5hbWUuLiIpIiwgTWVudVRleHRTaXplICwgKFdJTkRPV19XIC0gV0lORE9XX1gpICogU2V0dXBEcmF3WCwgKFdJTkRPV19IIC0gV0lORE9XX1kpICogdGVtcFNldHVwRHJhd1kgLCAweGZmZmZmZjAwKSANCgkJdGVtcFNldHVwRHJhd1kgPSB0ZW1wU2V0dXBEcmF3WSArIDAuMDMNCgllbmQNCmVuZA0KDQoNCmZ1bmN0aW9uIE9uRHJhdygpDQoJaWYgcGFydG5lciB+PSBuaWwgdGhlbiBEcmF3Q2lyY2xlKHBhcnRuZXIueCwgcGFydG5lci55LCBwYXJ0bmVyLnosIDcwLCBBUkdCKDIwMCwyNTUsMjU1LDApKSBlbmQNCglpZiBjb25maWcuZm9sbG93Q2hhbXAuZHJhd0ZvbGxvd0Rpc3QgdGhlbiBEcmF3Q2lyY2xlKG15SGVyby54LCBteUhlcm8ueSwgbXlIZXJvLnosIGNvbmZpZy5mb2xsb3dDaGFtcC5mb2xsb3dEaXN0LCBBUkdCKDIwMCwxLDMzLDApKSBlbmQNCglkcmF3Rm9sbG93TWVudSgpDQplbmQNCg0KDQpmdW5jdGlvbiBPblRpY2soKQ0KDQppZiBmaXJzdEJvdWdodCA9PSBmYWxzZSBhbmQgR2V0VGlja0NvdW50KCkgLSBzdGFydGluZ1RpbWUgPiAyMDAwIHRoZW4NCgkJCUJ1eUl0ZW0oMjA0NCkNCgkJCUJ1eUl0ZW0oMzMwMSkgLS0gQW5jaWVudCBDb2luDQoJCQlCdXlJdGVtKDMzNDApIC0tIHdhcmRpbmcgdG90ZW0gKHRyaW5rZXQpDQoJCQlmaXJzdEJvdWdodCA9IHRydWUNCgkJZW5kDQoJaWYgR2V0R2FtZSgpLmlzT3ZlciB0aGVuDQoJCVVwZGF0ZVdlYihmYWxzZSwgU2NyaXB0TmFtZSwgaWQsIEhXSUQpDQoJCXN0YXJ0VXAgPSBmYWxzZTsNCgllbmQNCg0KCWlmKGNvbmZpZy5lbmFibGVTY3JpcHQpdGhlbg0KCQlyb290OnJ1bigpDQoJZW5kDQoJDQoJbG9jYWwgbWFuYVBlcmNlbnQgPSBwbGF5ZXIubWFuYS9wbGF5ZXIubWF4TWFuYQ0KICAgICAgICBsb2NhbCBJdGVtU2xvdCA9IHtJVEVNXzEsSVRFTV8yLElURU1fMyxJVEVNXzQsSVRFTV81LElURU1fNix9DQogICAgICAgICAgICBmb3IgaT0xLCA2LCAxIGRvDQogICAgICAgICAgICAgICAgaWYgcGxheWVyOmdldEludmVudG9yeVNsb3QoSXRlbVNsb3RbaV0pID09IDIwMDQgYW5kIG1hbmFMaW1pdCA+PSBtYW5hUGVyY2VudCBhbmQgTVBvdFVzZWQgPT0gZmFsc2UgdGhlbg0KICAgICAgICAgICAgICAgICBGaW5hbEl0ZW1zbG90TSA9IEl0ZW1TbG90W2ldDQogICAgICAgICAgICAgICAgIENhc3RTcGVsbChGaW5hbEl0ZW1zbG90TSkNCiAgICAgICAgICAgICAgICAgTVBvdFVzZWQgPSB0cnVlDQogICAgICAgICAgICAgICAgIGxhc3RUaW1lTVBvdCA9IEdldFRpY2tDb3VudCgpDQogICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGlmIEdldFRpY2tDb3VudCgpIC0gbGFzdFRpbWVNUG90ID4gMTUwMDAgdGhlbg0KICAgICAgICAgICAgIE1Qb3RVc2VkID0gZmFsc2UNCiAgICAgICAgICAgIGVuZA0KICAgICAgDQogICAgICAgIGxvY2FsIGhwUGVyY2VudCA9IHBsYXllci5oZWFsdGgvcGxheWVyLm1heEhlYWx0aA0KICAgICAgICAgICAgZm9yIGk9MSwgNiwgMSBkbw0KICAgICAgICAgICAgICAgIGlmIChwbGF5ZXI6Z2V0SW52ZW50b3J5U2xvdChJdGVtU2xvdFtpXSkgPT0gMjAwMyBvciBwbGF5ZXI6Z2V0SW52ZW50b3J5U2xvdChJdGVtU2xvdFtpXSkgPT0gMjAxMCkgYW5kIGhwTGltaXQgPj0gaHBQZXJjZW50IGFuZCBIUG90VXNlZCA9PSBmYWxzZSB0aGVuDQogICAgICAgICAgICAgICAgIEZpbmFsSXRlbXNsb3RIID0gSXRlbVNsb3RbaV0NCiAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKEZpbmFsSXRlbXNsb3RIKQ0KICAgICAgICAgICAgICAgICBIUG90VXNlZCA9IHRydWUNCiAgICAgICAgICAgICAgICAgbGFzdFRpbWVIUG90ID0gR2V0VGlja0NvdW50KCkNCiAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICBpZiBHZXRUaWNrQ291bnQoKSAtIGxhc3RUaW1lSFBvdCA+IDE1MDAwIHRoZW4NCiAgICAgICAgICAgICBIUG90VXNlZCA9IGZhbHNlDQogICAgICAgICAgICBlbmQNCg0KCQktLSBSdW4gYnV5IGNvZGUgb25seSBpZiBpbiBmb3VudGFpbg0KCQlpZiBJbkZvdW50YWluKCkgdGhlbg0KCQkJLS0gQ29udGludW91cyB3YXJkIHB1cmNoYXNlcw0KCQkJaWYgR2V0VGlja0NvdW50KCkgLSB3YXJkQm91Z2h0ID4gMzAwMDAgYW5kIEdldFRpY2tDb3VudCgpIC0gc3RhcnRpbmdUaW1lID4gODAwMCBhbmQgR2V0SW52ZW50b3J5U2xvdEl0ZW0oMjA0NCkgPT0gbmlsIHRoZW4NCgkJCQlCdXlJdGVtKDIwNDQpIC0tIHN0ZWFsdGggd2FyZCAoZ3JlZW4pDQoJCQkJd2FyZEJvdWdodCA9IEdldFRpY2tDb3VudCgpDQoJCQllbmQNCgkJCQ0KCQkJLS0gSXRlbSBwdXJjaGFzZXMNCgkJCWlmIEdldFRpY2tDb3VudCgpIC0gc3RhcnRpbmdUaW1lID4gNTAwMCB0aGVuCQ0KCQkJCWlmIEdldFRpY2tDb3VudCgpID4gbGFzdEJ1eSArIGJ1eURlbGF5IHRoZW4NCgkJCQkJaWYgR2V0SW52ZW50b3J5U2xvdEl0ZW0oc2hvcExpc3RbbmV4dGJ1eUluZGV4XSkgfj0gbmlsIHRoZW4NCgkJCQkJCS0tTGFzdCBCdXkgc3VjY2Vzc2Z1bA0KCQkJCQkJbmV4dGJ1eUluZGV4ID0gbmV4dGJ1eUluZGV4ICsgMQ0KCQkJCQllbHNlDQoJCQkJCQktLUxhc3QgQnV5IHVuc3VjY2Vzc2Z1bCAoYnV5IGFnYWluKQ0KCQkJCQkJQnV5SXRlbShzaG9wTGlzdFtuZXh0YnV5SW5kZXhdKQ0KCQkJCQkJbGFzdEJ1eSA9IEdldFRpY2tDb3VudCgpDQoJCQkJCWVuZA0KCQkJCWVuZA0KCQkJZW5kDQoJCWVuZA0KCQkNCgkJaWYgc2NyaXB0QWN0aXZlIHRoZW4NCg0KaWYgR2V0VGlja0NvdW50KCkgLSB3YXJkVGltZXIgPiAxMDAwMCB0aGVuDQp3YXJkVXBkYXRlKCkNCmVuZAkNCg0KaWYgKG15SGVybzpDYW5Vc2VTcGVsbChJVEVNXzcpID09IFJFQURZIGFuZCBteUhlcm86Z2V0SXRlbShJVEVNXzcpLmlkID09IDMzNDApIHRoZW4NCndhcmRTbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oMzM0MCkNCmVsc2VpZiAobXlIZXJvOkNhblVzZVNwZWxsKElURU1fNykgPT0gUkVBRFkgYW5kIG15SGVybzpnZXRJdGVtKElURU1fNykuaWQgPT0gMzM1MCkgdGhlbg0Kd2FyZFNsb3QgPSBHZXRJbnZlbnRvcnlTbG90SXRlbSgzMzUwKQ0KZWxzZWlmIEdldEludmVudG9yeVNsb3RJdGVtKDIwNDQpIH49IG5pbCB0aGVuDQp3YXJkU2xvdCA9IEdldEludmVudG9yeVNsb3RJdGVtKDIwNDQpDQplbHNlaWYgR2V0SW52ZW50b3J5U2xvdEl0ZW0oMjA0Mykgfj0gbmlsIHRoZW4NCndhcmRTbG90ID0gR2V0SW52ZW50b3J5U2xvdEl0ZW0oMjA0MykNCmVsc2UNCndhcmRTbG90ID0gbmlsDQplbmQNCg0KZm9yIGkgPSAxLCAxMiBkbw0KaWYgd2FyZFNsb3Qgfj0gbmlsIGFuZCBHZXRUaWNrQ291bnQoKSAtIGxhc3RXYXJkID4gMjAwMCB0aGVuDQppZiBtYXRoLnNxcnQoKHdhcmRNYXRyaXhbMV1baV0gLSBwbGF5ZXIueCkqKHdhcmRNYXRyaXhbMV1baV0gLSBwbGF5ZXIueCkgKyAod2FyZE1hdHJpeFsyXVtpXSAtIHBsYXllci56KSood2FyZE1hdHJpeFsyXVtpXSAtIHBsYXllci56KSkgPCA2MDAgYW5kIHdhcmRNYXRyaXhbM11baV0gPT0gZmFsc2UgdGhlbg0KQ2FzdFNwZWxsKCB3YXJkU2xvdCwgd2FyZE1hdHJpeFsxXVtpXSwgd2FyZE1hdHJpeFsyXVtpXSApDQpsYXN0V2FyZCA9IEdldFRpY2tDb3VudCgpDQp3YXJkTWF0cml4WzNdW2ldID0gdHJ1ZQ0KYnJlYWsNCmVuZA0KZW5kDQplbmQNCmVuZAkNCmVuZA0KDQpmdW5jdGlvbiBPblduZE1zZyhtc2csIGtleWNvZGUpDQppZiBrZXljb2RlID09IEhLIHRoZW4NCiAgICAgICAgaWYgbXNnID09IEtFWV9ET1dOIHRoZW4NCiAgICAgICAgIGlmIHNjcmlwdEFjdGl2ZSB0aGVuDQogICAgICAgICBzY3JpcHRBY3RpdmUgPSBmYWxzZQ0KICAgICAgICAgUHJpbnRDaGF0KCJzb3Jha2FCT1QgLSBBdXRvIFdhcmRzIGRpc2FibGVkISIpDQogIGVsc2UNCiAgICAgc2NyaXB0QWN0aXZlID0gdHJ1ZQ0KICAgICBQcmludENoYXQoInNvcmFrYUJPVCAtIEF1dG8gV2FyZHMgZW5hYmxlZCEiKQ0KICAgICBlbmQNCiAgICAgICAgZW5kDQogICAgZW5kDQoJZm9yIGk9MSwgI2FsbGllcywgMSBkbyANCgkJaWYga2V5Y29kZSA9PSBGb2xsb3dLZXlzQ29kZXNbaV0gYW5kIG1zZyA9PSBLRVlfRE9XTiB0aGVuDQoJCQlwYXJ0bmVyID0gYWxsaWVzW2ldDQoJCQlQcmludENoYXQoIlBhc3NpdmUgRm9sbG93ID4+IGZvbGxvd2luZyBzdW1tb25lcjogIi4uYWxsaWVzW2ldLm5hbWUpDQoJCWVuZA0KCWVuZA0KZW5kDQoNCmZ1bmN0aW9uIGRyYXdNZW51KCkNCgljb25maWcgPSBzY3JpcHRDb25maWcoInNvcmFrYUJPVCAtIFF1ZWVuIE9mIFRoZSBEYXJrIiwgIlBhc3NpdmUgRm9sbG93IikgDQoNCgljb25maWc6YWRkUGFyYW0oImVuYWJsZVNjcmlwdCIsICJBdXRvIEZvbGxvdyIsIFNDUklQVF9QQVJBTV9PTktFWVRPR0dMRSwgdHJ1ZSwgMTE1KQ0KCSAgDQoJY29uZmlnOmFkZFN1Yk1lbnUoIkZvbGxvdyBTZXR0aW5ncyIsICJmb2xsb3dDaGFtcCIpDQoJY29uZmlnOmFkZFN1Yk1lbnUoIlJlZ2VuIGF0IEZvdW50YWluIiwgImZvbnRSZWdlbiIpDQoJY29uZmlnOmFkZFN1Yk1lbnUoIkF1dG8gdXNlIFN1bW1vbmVyIFNwZWxscyIsICJhdXRvU3BlbGxzIikNCgljb25maWc6YWRkU3ViTWVudSgiQXV0byBXYXJkcyBGMyAtIE9uL09mZiIsICJhdXRvd2FyZHMiKQ0KDQoJDQoJY29uZmlnLmZvbnRSZWdlbjphZGRQYXJhbSgiaHBSZWdlbiIsICJNaW4gSFAlIHRvIGxlYXZlIiwgU0NSSVBUX1BBUkFNX1NMSUNFLCBERUZBVUxUX0hQX1JFR0VOLCAwLCAxMDAsIDApDQoJY29uZmlnLmZvbnRSZWdlbjphZGRQYXJhbSgibWFuYVJlZ2VuIiwgIk1pbiBNYW5hJSB0byBsZWF2ZSIsIFNDUklQVF9QQVJBTV9TTElDRSwgREVGQVVMVF9NQU5BX1JFR0VOLCAwLCAxMDAsIDApDQoJDQoJY29uZmlnLmF1dG9TcGVsbHM6YWRkUGFyYW0oInVzZUhlYWwiLCAiQXV0byBTdW1tb25lciBIZWFsIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCBmYWxzZSkNCgljb25maWcuYXV0b1NwZWxsczphZGRQYXJhbSgidXNlQ2xhcml0eSIsICJBdXRvIFN1bW1vbmVyIENsYXJpdHkiLCBTQ1JJUFRfUEFSQU1fT05PRkYsIGZhbHNlKQ0KCQ0KCWNvbmZpZy5hdXRvU3BlbGxzOmFkZFBhcmFtKCJtYW5hVGhyZXNob2xkIiwgIk1hbmElIGZvciB1c2UgQ2xhcml0eSIsIFNDUklQVF9QQVJBTV9TTElDRSwgREVGQVVMVF9NQU5BX1RIUkVTSE9MRCwgMCwgMTAwLCAwKQ0KCWNvbmZpZy5hdXRvU3BlbGxzOmFkZFBhcmFtKCJoZWFsdGhUaHJlc2hvbGQiLCAiSFAlIGZvciB1c2UgQ3VyZSIsIFNDUklQVF9QQVJBTV9TTElDRSwgREVGQVVMVF9IRUFMVEhfVEhSRVNIT0xELCAwLCAxMDAsIDApDQoJDQoJY29uZmlnLmZvbGxvd0NoYW1wOmFkZFBhcmFtKCJmb2xsb3dEaXN0IiwgIkZvbGxvdyBEaXN0YW5jZSIsIFNDUklQVF9QQVJBTV9TTElDRSwgREVGQVVMVF9GT0xMT1dfRElTVEFOQ0UsIDQwMCwgMjAwMCwgMCkNCgljb25maWcuZm9sbG93Q2hhbXA6YWRkUGFyYW0oImRyYXdGb2xsb3dEaXN0IiwgIkRyYXcgRm9sbG93IERpc3RhbmNlIiwgU0NSSVBUX1BBUkFNX09OT0ZGLCB0cnVlKQ0KZW5kDQoNCmZ1bmN0aW9uIGluaXRWYXJpYWJsZXMoKQ0KCQ0KCWJvdHRvbVBvaW50ID0gVmVjdG9yKDEyMTAwLCAyMTAwKQ0KDQoJLS1bW3N1bW1vbmVyc11dLS0NCglERUZBVUxUX0ZPTExPV19ESVNUQU5DRSA9IDQwMA0KCURFRkFVTFRfTUFOQV9SRUdFTiA9IDgwDQoJREVGQVVMVF9IUF9SRUdFTiA9IDgwDQoNCgktLVtbQ09OU1RBTlRTXV0tLQ0KCU1JTl9ESVNUQU5DRSA9IDI3NQ0KCUhFQUxfRElTVEFOQ0UgPSA3MDANCglERUZBVUxUX0hFQUxUSF9USFJFU0hPTEQgPSA3MA0KCURFRkFVTFRfTUFOQV9USFJFU0hPTEQgPSA2Ng0KDQoJQUZLX01BWFRJTUUgPSAxMjANCglTQ1JJUFRfU1RBUlRfVElNRSA9IG9zLmNsb2NrKCkgKyA2MCAtLSBjaGFuZ2UgdGhlIGFkYyBzZWxlY3RpbmcgdGltZQ0KCWxhc3RQYXJ0bmVyTW92ZSA9IG5pbA0KCQ0KCUZvY3VzT2ZUb3dlciA9IGZhbHNlDQoJcGFydG5lciA9IG5pbA0KCXRlbXBfcGFydG5lciA9IG5pbA0KCXBBZmsgPSB0cnVlDQoJcFJlY2FsbGluZyA9IGZhbHNlIC0tIGlzIFBhcnRuZXIgUmVjYWxsaW5nPw0KCW1lUmVjYWxsaW5nID0gZmFsc2UNCgl5aWtlc1R1cnJldCA9IG5pbA0KCWNvbGxlY3RUaW1lciA9IHRydWUNCg0KCS0tIHNwYXduDQoJYWxseVNwYXduID0gbmlsDQoJZW5lbXlTcGF3biA9IG5pbA0KDQoJZGV0ZWN0U3Bhd25Qb2ludHMoKQ0KZW5kDQoNCg0KZnVuY3Rpb24gT25Mb2FkKCkNCg0KaWYgR2V0SW52ZW50b3J5U2xvdElzRW1wdHkoSVRFTV8xKSA9PSBmYWxzZSB0aGVuDQoJCQlmaXJzdEJvdWdodCA9IHRydWUNCgkJZW5kDQoJVXBkYXRlV2ViKHRydWUsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KCXBsYXllciA9IEdldE15SGVybygpDQoJaW5pdFZhcmlhYmxlcygpDQoJZHJhd01lbnUoKQ0KCW1vdW50QmVoYXZpb3JUcmVlKCkNCglhbGxpZXMgPSBHZXRQbGF5ZXJzKHBsYXllci50ZWFtLCB0cnVlLCBmYWxzZSkNCglzdGFydGluZ1RpbWUgPSBHZXRUaWNrQ291bnQoKQ0KCQkNCgkJDQogICAgICAgICAgICAtLXNwZWxsIGRpc3BhdGNoZXINCiAgICAgICAgICAgIEFJVGltZXIuYWRkKDAuMjUsZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tZG9udCBkbyBhbnkgYWN0aW9uIGlmIGRlYWQgb3IgcmVjYWxsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgbXlIZXJvLmRlYWQgPT0gdHJ1ZSBvciBBSUNvbmRpdGlvbi5yZWNhbGwobXlIZXJvKSA9PSB0cnVlIHRoZW4gcmV0dXJuIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tY2hlY2sgZm9yIGhlYWwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBDYW5Vc2VTcGVsbChfVykgPT0gUkVBRFkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmVzdWx0ID0gQUlGaW5kLndlYWtBbGx5KG15SGVybyw1NTAsZmFsc2UsdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3VsdCB+PSBuaWwgYW5kIChyZXN1bHQuaGVhbHRoICsgQUlTdGF0LmhlYWwocmVzdWx0LEdldFNwZWxsRGF0YShfVykubGV2ZWwgKiAzMCArIG15SGVyby5hcCAqIDAuNjApKS9yZXN1bHQubWF4SGVhbHRoIDw9IGRlc2lyZWRIZWFsIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9XLHJlc3VsdCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNoZWNrIGZvciB1bHQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBDYW5Vc2VTcGVsbChfUikgPT0gUkVBRFkgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1zYXZlIHVsdCBwb3dlcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgdWx0UG93ZXIgPSAoMTUwICsgKEdldFNwZWxsRGF0YShfUikubGV2ZWwgLSAxKSAqIDEwMCArIG15SGVyby5hcCAqIDAuNTUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNhdmUgcmVzdWx0IHZhcmlhYmxlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCByZXN1bHQgPSAwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWdldCBoZWFsIHJlc3VsdHMgb24gdGFyZ2V0cw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGkgPSAxLCAjQUlEYXRhLmFsbGllcywgMSBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWRvbnQgY291bnQgYWZrDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIEFJU3RhdC5hZmsoQUlEYXRhLmFsbGllc1tpXSkgPiAxODAgdGhlbiByZXN1bHQgPSByZXN1bHQgKyBkZXNpcmVkVWx0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tdWx0IHdhc3RlZCBjYXNlcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlaWYgQUlEYXRhLmFsbGllc1tpXS5kZWFkID09IHRydWUgb3IgQUlSb3V0aW5lLmRpc3RhbmNlKEFJRGF0YS5hbGx5U3Bhd24sQUlEYXRhLmFsbGllc1tpXSkgPCAxNTAwIG9yIEFJQ29uZGl0aW9uLnJlY2FsbChBSURhdGEuYWxsaWVzW2ldKSA9PSB0cnVlIHRoZW4gcmVzdWx0ID0gcmVzdWx0ICsgMQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNhbGN1bGF0ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJlc3VsdCA9IHJlc3VsdCArIChBSURhdGEuYWxsaWVzW2ldLmhlYWx0aCArIEFJU3RhdC5oZWFsKEFJRGF0YS5hbGxpZXNbaV0sdWx0UG93ZXIpKS9BSURhdGEuYWxsaWVzW2ldLm1heEhlYWx0aCBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1jaGVjayBhbW91bnQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3VsdC8jQUlEYXRhLmFsbGllcyA8PSBkZXNpcmVkVWx0IHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKF9SKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KLS1jaGVjayBmb3Igc3VtbW9uZXJzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgc3VtbW9uZXIgPSBBSVNwZWxsLmhlYWwoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0taGVhbA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGRlc2lyZWRTdW1tb25lcnMgPT0gdHJ1ZSBhbmQgc3VtbW9uZXIgfj0gbmlsIGFuZCBBSVJvdXRpbmUuZGlzdGFuY2UobXlIZXJvLEFJRGF0YS5hbGx5U3Bhd24pID4gMTAwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNhdmUgSEVBTCBwb3dlcg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgaGVhbFBvd2VyID0gNzUgKyAobXlIZXJvLmxldmVsICogMTUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNhdmUgcmVzdWx0IHZhcmlhYmxlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCByZXN1bHQgPSAwDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWdldCBhbGxpZXMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIGFsbGllcyA9IEFJRmluZC5hbGxpZXMobXlIZXJvLDYwMCxmYWxzZSx0cnVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgI2FsbGllcyA+IDEgdGhlbg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWdldCBoZWFsIHJlc3VsdHMgb24gdGFyZ2V0cw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaSA9IDEsICNhbGxpZXMsIDEgZG8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNhbGN1bGF0ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGFsbGllc1tpXS5tYXhIZWFsdGggLSBhbGxpZXNbaV0uaGVhbHRoID4gaGVhbFBvd2VyIHRoZW4gcmVzdWx0ID0gcmVzdWx0ICsgbWF0aC5tYXgoMS41LC0xICogQUlTdGF0LmhwcyhhbGxpZXNbaV0pIC8gaGVhbFBvd2VyKSBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tY2hlY2sgcmVzdWx0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHJlc3VsdC8jYWxsaWVzID49IGRlc2lyZWRIZWFsIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoc3VtbW9uZXIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLW1hbmENCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tb25lciA9IEFJU3BlbGwuY2xhcml0eSgpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVzaXJlZFN1bW1vbmVycyA9PSB0cnVlIGFuZCBzdW1tb25lciB+PSBuaWwgYW5kIEFJUm91dGluZS5kaXN0YW5jZShteUhlcm8sQUlEYXRhLmFsbHlTcGF3bikgPiAxMDAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tc2F2ZSByZXN1bHQgdmFyaWFibGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsIHJlc3VsdCA9IDANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tZ2V0IGFsbGllcw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgYWxsaWVzID0gQUlGaW5kLmFsbGllcyhteUhlcm8sNjAwLGZhbHNlLHRydWUpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAjYWxsaWVzID4gMSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tZ2V0IGNsYXJpdHkgcmVzdWx0cyBvbiB0YXJnZXRzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciBpID0gMSwgI2FsbGllcywgMSBkbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tY2FsY3VsYXRlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgYWxsaWVzW2ldLm1hbmEvYWxsaWVzW2ldLm1heE1hbmEgKyAwLjQgPCBkZXNpcmVkSGVhbCB0aGVuIHJlc3VsdCA9IHJlc3VsdCArIDEgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNoZWNrIHJlc3VsdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiByZXN1bHQvI2FsbGllcyA+PSBkZXNpcmVkSGVhbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKHN1bW1vbmVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1yZXZpdmUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW1tb25lciA9IEFJU3BlbGwucmV2aXZlKCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBkZXNpcmVkU3VtbW9uZXJzID09IHRydWUgYW5kIHN1bW1vbmVyIH49IG5pbCBhbmQgbXlIZXJvLmRlYXRoVGltZXIgPiAyNSBhbmQgI0FJUm91dGluZS5maW5kTWF0Y2hlcyhBSURhdGEuYWxsaWVzLGZ1bmN0aW9uKHRoaXMpIHJldHVybiB0aGlzLmRlYWQgPT0gZmFsc2UgZW5kKSArIDEgPiAjQUlSb3V0aW5lLmZpbmRNYXRjaGVzKEFJRGF0YS5lbmVtaWVzLGZ1bmN0aW9uKHRoaXMpIHJldHVybiB0aGlzLmRlYWQgPT0gZmFsc2UgZW5kKSB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDYXN0U3BlbGwoc3VtbW9uZXIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1jaGVjayBmb3IgaXRlbXMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBpdGVtID0gQUlTcGVsbC5sb2NrZXQoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tbG9ja2V0DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgZGVzaXJlZEl0ZW1zID09IHRydWUgYW5kIGl0ZW0gfj0gbmlsIGFuZCBBSVJvdXRpbmUuZGlzdGFuY2UobXlIZXJvLEFJRGF0YS5hbGx5U3Bhd24pID4gMTAwMCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLXNhdmUgU0hJRUxEIHBvd2VyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBsb2NrZXRQb3dlciA9IDUwICsgKG15SGVyby5sZXZlbCAqIDEwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1zYXZlIHJlc3VsdCB2YXJpYWJsZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWwgcmVzdWx0ID0gMA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1nZXQgYWxsaWVzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbCBhbGxpZXMgPSBBSUZpbmQuYWxsaWVzKG15SGVybyw2MDAsZmFsc2UsdHJ1ZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICNhbGxpZXMgPiAxIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1nZXQgaGVhbCByZXN1bHRzIG9uIHRhcmdldHMNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIGkgPSAxLCAjYWxsaWVzLCAxIGRvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLS1jYWxjdWxhdGUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBhbGxpZXNbaV0ubWF4SGVhbHRoIC0gYWxsaWVzW2ldLmhlYWx0aCA+IGxvY2tldFBvd2VyIHRoZW4gcmVzdWx0ID0gcmVzdWx0ICsgbWF0aC5tYXgoMS41LC0xICogQUlTdGF0LmhwcyhhbGxpZXNbaV0pIC9sb2NrZXRQb3dlcikgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAtLWNoZWNrIHJlc3VsdA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiByZXN1bHQvI2FsbGllcyA+PSBkZXNpcmVkSGVhbCB0aGVuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQ2FzdFNwZWxsKGl0ZW0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kDQogICAgICAgICAgICAgICAgICAgIGVuZCkNCiAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgICAgIC0tZ3VpDQogICAgICAgICAgICBBSUJpbmQua2V5KGRlc2lyZWRHdWlLZXksZHJhd0d1aSxyZW1vdmVHdWkpDQogICAgICAgICAgICAtLXdlbGNvbWUgbWVzc2FnZQ0KICAgICAgICAgICAgUHJpbnRDaGF0KCI8Zm9udCBjb2xvcj1cIiM2NjY2NjZcIj48Yj5zb3Jha2FCT1QgLSBRdWVlbiBPZiBUaGUgRGFyayBMb2FkZWQhPC9iPjwvZm9udD4iKQ0KICAgICAgICAgICAgLS1sZXZlbCBzcGVsbHMNCiAgICAgICAgICAgIEFkZENyZWF0ZU9iakNhbGxiYWNrKGZ1bmN0aW9uKG9iaikgaWYgZGVzaXJlZExldmVsID09IHRydWUgYW5kIG9iai54ID09IG15SGVyby54IGFuZCBvYmoueiA9PSBteUhlcm8ueiBhbmQgb2JqLm5hbWUgPT0gIkxldmVsVXBfZ2xiLnRyb3kiIHRoZW4gQUlTcGVsbC5sZXZlbChzcGVsbHMpIGVuZCBlbmQpDQogICAgICAgICAgICAtLXNsaWdodGx5IGJ1Z2dlZA0KICAgICAgICAgICAgaWYgZGVzaXJlZExldmVsID09IHRydWUgYW5kIHNwZWxscyB+PSBuaWwgdGhlbiBBSVNwZWxsLmxldmVsKHNwZWxscykgZW5kDQplbmQNCiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tR1VJLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgDQogICAgZ3VpTWVudSA9IG5pbA0KICAgIGFjdGlvbixhY3Rpb25UaW1lcixicmFpblRpbWVyID0gbmlsLG5pbA0KICAgIGZ1bmN0aW9uIGRyYXdHdWkoKQ0KICAgICAgICAgICAgaWYgZ3VpTWVudSA9PSBuaWwgdGhlbg0KICAgICAgICAgICAgICAgICAgICBndWlNZW51ID0ge0FJR3VpLnRleHQoMCwwLCJzb3Jha2FCT1QgLSBRdWVlbiBPZiBUaGUgRGFyayIpfQ0KICAgICAgICAgICAgICAgICAgICBndWlNZW51WyNndWlNZW51ICsgMV0gPSBBSUd1aS5saW5lKDAsMCx7QUlHdWkudGV4dCgwLDAsIkF1dG8gSGVhbCB0aWxsICVocCIpLEFJR3VpLnNsaWRlcigwLDAsZGVzaXJlZEhlYWwgKiAxMDAsMCwxMTAsZnVuY3Rpb24obnVtKSBkZXNpcmVkSGVhbCA9IG51bS8xMDAgZW5kKX0pDQogICAgICAgICAgICAgICAgICAgIGd1aU1lbnVbI2d1aU1lbnUgKyAxXSA9IEFJR3VpLmxpbmUoMCwwLHtBSUd1aS50ZXh0KDAsMCwiQXV0byBVbHRpbWF0ZSB0aWxsICVocCIpLEFJR3VpLnNsaWRlcigwLDAsZGVzaXJlZFVsdCAqIDEwMCwwLDExMCxmdW5jdGlvbihudW0pIGRlc2lyZWRVbHQgPSBudW0vMTAwIGVuZCl9KQ0KICAgICAgICAgICAgICAgICAgICBndWlNZW51WyNndWlNZW51ICsgMV0gPSBBSUd1aS5saW5lKDAsMCx7QUlHdWkudGljaygwLDAsZGVzaXJlZExldmVsLGZ1bmN0aW9uKHN0YXRlKSBkZXNpcmVkTGV2ZWwgPSBzdGF0ZSBpZiBzdGF0ZSA9PSB0cnVlIGFuZCBzcGVsbHMgfj0gbmlsIHRoZW4gQUlTcGVsbC5sZXZlbChzcGVsbHMpIGVuZCBlbmQpLEFJR3VpLnRleHQoMCwwLCJBdXRvIExWTCBTa2lsbHMgKEZpeGVkKSIpfSkNCiAgICAgICAgICAgICAgICAgICAgZ3VpTWVudVsjZ3VpTWVudSArIDFdID0gQUlHdWkubGluZSgwLDAse0FJR3VpLnRleHQoMCwwLHZlcnNpb24sZnVuY3Rpb24oc3RhdGUpIHZlcnNpb24gPSBzdGF0ZSBlbmQpLEFJR3VpLnRleHQoMCwwLCJWZXJzaW9uIil9KQ0KCQkJCQlndWlNZW51ID0gQUlHdWkubGlzdChXSU5ET1dfVyowLjQsV0lORE9XX0gqMC4zLGd1aU1lbnUpDQogICAgICAgICAgICBlbmQNCiAgICBlbmQNCiAgICBmdW5jdGlvbiByZW1vdmVHdWkoKQ0KICAgICAgICAgICAgaWYgZ3VpTWVudSB+PSBuaWwgdGhlbg0KICAgICAgICAgICAgICAgICAgICBBSUd1aS5yZW1vdmUoZ3VpTWVudSkNCiAgICAgICAgICAgICAgICAgICAgZ3VpTWVudSA9IG5pbA0KICAgICAgICAgICAgZW5kDQogICAgZW5kDQoNCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgIC0tLS0tLS0tLS0tLS0tLS0tLXNwZWxsIGFjdGlvbi0tLS0tLS0tLS0tLS0tLS0tDQogICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgZnVuY3Rpb24gT25Qcm9jZXNzU3BlbGwodW5pdCwgc3BlbGwpDQogICAgICAgICAgICBpZiBteUhlcm8uZGVhZCA9PSB0cnVlIG9yIHVuaXQgPT0gbmlsIG9yIHVuaXQudmFsaWQgPT0gZmFsc2Ugb3IgdW5pdC50ZWFtIH49IFRFQU1fRU5FTVkgdGhlbiByZXR1cm4NCiAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLXNpbGVuY2UtLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgLS1jaGVjayBpcyBpdCBlbmVteSBhbmQgaXMgc2lsZW5jZSB1c2FibGUNCiAgICAgICAgICAgIGVsc2VpZiBDYW5Vc2VTcGVsbChfRSkgPT0gUkVBRFkgYW5kIEFJUm91dGluZS5kaXN0YW5jZShteUhlcm8sdW5pdCkgPD0gNzUwICB0aGVuDQogICAgICAgICAgICAgICAgICAgIC0tY2hlY2sgaXMgc3BlbGwgaW1wb3J0YW50DQogICAgICAgICAgICAgICAgICAgIGlmICBzcGVsbC5uYW1lPT0iS2F0YXJpbmFSIiBvciBzcGVsbC5uYW1lPT0iR2FsaW9JZG9sT2ZEdXJhbmQiIG9yIHNwZWxsLm5hbWU9PSJDcm93c3Rvcm0iIG9yIHNwZWxsLm5hbWU9PSJEcmFpbkNoYW5uZWwiDQogICAgICAgICAgICAgICAgICAgIG9yIHNwZWxsLm5hbWU9PSJBYnNvbHV0ZVplcm8iIG9yIHNwZWxsLm5hbWU9PSJTaGVuU3RhbmRVbml0ZWQiIG9yIHNwZWxsLm5hbWU9PSJVcmdvdFN3YXAyIiBvciBzcGVsbC5uYW1lPT0iQWxaYWhhck5ldGhlckdyYXNwIg0KICAgICAgICAgICAgICAgICAgICBvciBzcGVsbC5uYW1lPT0iRmFsbGVuT25lIiBvciBzcGVsbC5uYW1lPT0iUGFudGhlb25fR3JhbmRTa3lmYWxsX0p1bXAiIG9yIHNwZWxsLm5hbWU9PSJDYWl0bHluQWNlaW50aGVIb2xlIg0KICAgICAgICAgICAgICAgICAgICBvciBzcGVsbC5uYW1lPT0iTWlzc0ZvcnR1bmVCdWxsZXRUaW1lIiBvciBzcGVsbC5uYW1lPT0iSW5maW5pdGVEdXJlc3MiIG9yIHNwZWxsLm5hbWU9PSJUZWxlcG9ydCINCiAgICAgICAgICAgICAgICAgICAgdGhlbiBDYXN0U3BlbGwoX0UsdW5pdCkgZW5kDQogICAgICAgICAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0NCiAgICAgICAgICAgIC0tLS0tLS0tLS0tLS0tLS0tLW9obXdyZWNrZXItLS0tLS0tLS0tLS0tLS0tLQ0KICAgICAgICAgICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tDQogICAgICAgICAgICBlbHNlaWYgZGVzaXJlZEl0ZW1zID09IHRydWUgYW5kIHVuaXQudHlwZSA9PSAib2JqX0FJX1R1cnJldCIgYW5kIHVuaXQudGVhbSA9PSBURUFNX0VORU1ZIGFuZCBBSVJvdXRpbmUuZGlzdGFuY2UobXlIZXJvLHVuaXQpIDwgNjAwIHRoZW4NCiAgICAgICAgICAgICAgICAgICAgbG9jYWwgaXRlbSA9IEFJU3BlbGwub2htKCkNCiAgICAgICAgICAgICAgICAgICAgaWYgaXRlbSB+PSBuaWwgYW5kIEFJRmluZC5hbGx5KHNwZWxsLmVuZFBvcywzMCx0cnVlLHRydWUpIH49IG5pbCB0aGVuIENhc3RTcGVsbChpdGVtKSBlbmQNCiAgICAgICAgICAgIGVuZA0KICAgIGVuZA0KDQpmdW5jdGlvbiBPbkJ1Z3NwbGF0KCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIE9uVW5sb2FkKCkNCglVcGRhdGVXZWIoZmFsc2UsIFNjcmlwdE5hbWUsIGlkLCBIV0lEKQ0KZW5kDQoNCmZ1bmN0aW9uIHdhcmRVcGRhdGUoKQ0KZm9yIGkgPSAxLCAxMiBkbw0Kd2FyZERldGVjdGVkRmxhZ1tpXSA9IGZhbHNlDQplbmQNCmZvciBrID0gMSwgb2JqTWFuYWdlci5tYXhPYmplY3RzIGRvDQpsb2NhbCBvYmplY3QgPSBvYmpNYW5hZ2VyOkdldE9iamVjdChrKQ0KaWYgb2JqZWN0IH49IG5pbCBhbmQgKHN0cmluZy5maW5kKG9iamVjdC5uYW1lLCAiV2FyZCIpIH49IG5pbCBvciBzdHJpbmcuZmluZChvYmplY3QubmFtZSwgIldyaWdnbGUiKSB+PSBuaWwpIHRoZW4NCmZvciBpID0gMSwgMTIgZG8NCmlmIG1hdGguc3FydCgod2FyZE1hdHJpeFsxXVtpXSAtIG9iamVjdC54KSood2FyZE1hdHJpeFsxXVtpXSAtIG9iamVjdC54KSArICh3YXJkTWF0cml4WzJdW2ldIC0gb2JqZWN0LnopKih3YXJkTWF0cml4WzJdW2ldIC0gb2JqZWN0LnopKSA8IDExMDAgdGhlbg0Kd2FyZERldGVjdGVkRmxhZ1tpXSA9IHRydWUNCndhcmRNYXRyaXhbM11baV0gPSB0cnVlDQplbmQNCmVuZA0KZW5kDQpmb3IgaSA9IDEsIDEyIGRvDQppZiB3YXJkRGV0ZWN0ZWRGbGFnW2ldID09IGZhbHNlIHRoZW4NCndhcmRNYXRyaXhbM11baV0gPSBmYWxzZQ0KZW5kDQplbmQNCmVuZA0Kd2FyZFRpbWVyID0gR2V0VGlja0NvdW50KCkNCmVuZA=="), nil, "bt", _ENV))()
